# üß± –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Millionaire (Engine + Games)

–î–∞—Ç–∞: 2025‚Äë12‚Äë13  
–°—Ç–∞—Ç—É—Å: draft v1 (–ø–ª–∞–Ω, –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

–¶–µ–ª—å —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞: **–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –∏ **–ø–æ—à–∞–≥–æ–≤—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞–Ω** —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –±–µ–∑ ‚Äú–±–æ–ª—å—à–æ–≥–æ –≤–∑—Ä—ã–≤–∞‚Äù, —á—Ç–æ–±—ã –¥–≤–∏–∂–æ–∫ —Å—Ç–∞–ª –º–æ–¥—É–ª—å–Ω—ã–º, —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º (–ø–∞–Ω–µ–ª–∏/–∫–Ω–æ–ø–∫–∏/–∞—É–¥–∏–æ/–∞—Å—Å–µ—Ç—ã), –∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ `docs/REFACTORING_ANALYSIS.md` —É–∂–µ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–æ—à–ª—ã—Ö —Ñ–∞–∑. –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –Ω–µ –∑–∞–º–µ–Ω–∞, –∞ **—Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å**: —Ü–µ–ª–µ–≤–æ–π –¥–∏–∑–∞–π–Ω + –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞.

---

## 0) TL;DR (—á—Ç–æ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è –≤ –∏—Ç–æ–≥–µ)

- **Engine —Å—Ç–∞–Ω–µ—Ç —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –º–æ–¥—É–ª–µ–º**: –ø–æ–Ω—è—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã —Å–ª–æ—ë–≤ (state ‚Üî UI ‚Üî audio ‚Üî assets ‚Üî effects).
- **UI –±—É–¥–µ—Ç —Å–æ–±—Ä–∞–Ω –∏–∑ –ø–∞–Ω–µ–ª–µ–π –∏ –∫–Ω–æ–ø–æ–∫**: –∫–∞–∂–¥–∞—è –ø–∞–Ω–µ–ª—å/–∫–Ω–æ–ø–∫–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, `GameScreen`/`GameLayout` ‚Äî —Ç–æ–ª—å–∫–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è.
- **GameState —Å—Ç–∞–Ω–µ—Ç ‚Äú—Å–∏—Å—Ç–µ–º–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π‚Äù**: —è–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è/–ø–µ—Ä–µ—Ö–æ–¥—ã/–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.
- **Audio —Ä–∞–∑–¥–µ–ª–∏—Ç—Å—è –Ω–∞ `MusicPlayer` –∏ `SoundPlayer`**: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—é, –º–∏–Ω–∏–º—É–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.
- **AssetLoader —Å—Ç–∞–Ω–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π**: —É—Ä–æ–≤–Ω–∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ + graceful fallback, PoC —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ `public/`.
- **–ò–≥—Ä—ã (`src/games`) —Å—Ç–∞–Ω—É—Ç ‚Äú–º–æ–¥–∞–º–∏‚Äù**: –º–∞–∫—Å–∏–º—É–º –¥–∞–Ω–Ω—ã—Ö/—Ç–µ–º/–∏–∫–æ–Ω–æ–∫, –º–∏–Ω–∏–º—É–º –ª–æ–≥–∏–∫–∏; –µ–¥–∏–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –∏–≥—Ä –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞/—Å–µ–ª–µ–∫—Ç–æ—Ä–∞.

---

## 1) –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å—Ä–µ–∑ –ø–æ `src/` –∏ `scripts/`)

### 1.1 –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
  app/components/
    GameSelector.tsx (+ test)
  engine/
    components/ (StartScreen, GameScreen, EndScreen, Header*, ParticleCanvas, UI Panel*)
    hooks/ (useGameState, useAudio, useEffects, useFavicon, useAssetPreloader)
    services/ (AssetLoader singleton + logger + types)
    utils/ (audioPlayer, assetLoader, questionGenerator)
    context/ (ThemeContext)
    types/
  games/
    bg3|poc|transformers/ (config, themes, icons, questions, index)
  pages/ (PocPage, BG3Page, TransformersPage, Sandbox*, EffectsSandbox*)
  styles/ (animations/buttons/fonts/shine/prize-ladder/base)
  App.tsx, main.tsx, index.css, tailwind.css

scripts/
  generate-asset-manifest.js
  generate-image-manifest.js
  convert_mp3_to_ogg.sh
  comics_parser.py
  sandbox/ (html/js/csv/py)
```

### 1.2 –ö—Ä—É–ø–Ω—ã–µ ‚Äú–º–æ–Ω–æ–ª–∏—Ç—ã‚Äù (–∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ —Ä–∞–∑–±–∏–µ–Ω–∏–µ)

- `src/engine/hooks/useAudio.ts` (~700+ —Å—Ç—Ä–æ–∫): –º–Ω–æ–≥–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (–º—É–∑—ã–∫–∞ + —ç—Ñ—Ñ–µ–∫—Ç—ã + localStorage + fallback).
- `src/engine/utils/audioPlayer.ts` (~700+ —Å—Ç—Ä–æ–∫): –∫–µ—à–∏, WebAudio, –∑–∞–≥—Ä—É–∑–∫–∞/–¥–µ–∫–æ–¥, fallback, oscillator.
- `src/engine/services/AssetLoader.ts` (~500+ —Å—Ç—Ä–æ–∫): –º–∞–Ω–∏—Ñ–µ—Å—Ç, —É—Ä–æ–≤–Ω–∏, –∑–∞–≥—Ä—É–∑–∫–∞, –∫–µ—à–∏.
- `src/engine/components/GameScreen.tsx` (~500+ —Å—Ç—Ä–æ–∫): –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ ‚Äú–≤—Å—ë –∏–≥—Ä–æ–≤–æ–µ UI‚Äù.
- `src/engine/components/ParticleCanvas.tsx` (~500+ —Å—Ç—Ä–æ–∫): –≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–∞–Ω–∏–º–∞—Ü–∏—è/—Ä–∏—Å–æ–≤–∞–Ω–∏–µ.
- –ë–æ–ª—å—à–∏–µ ‚Äúdata‚Äù —Ñ–∞–π–ª—ã –≤ `games/transformers/*` (questions/config) ‚Äî —Ç—è–∂—ë–ª—ã–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

### 1.3 –ì–ª–∞–≤–Ω–∞—è –±–æ–ª—å

1) **–°–º–µ—à–∞–Ω—ã —É—Ä–æ–≤–Ω–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**: UI‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–Ω–∞—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ –ª–æ–≥–∏–∫–µ/–∞—É–¥–∏–æ/—ç—Ñ—Ñ–µ–∫—Ç–∞—Ö, –∞ —Ö—É–∫ –∞—É–¥–∏–æ –∑–Ω–∞–µ—Ç –ø—Ä–æ –∑–∞–≥—Ä—É–∑–∫—É –∞—Å—Å–µ—Ç–æ–≤ –∏ fallback‚Äë–ª–æ–≥–∏–∫—É.  
2) **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: asset resolving –≤ `utils/assetLoader.ts` vs manifest‚Äëloader –≤ `services/AssetLoader.ts`; —á–∞—Å—Ç—å audio‚Äëfallback –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤ `useAudio`.  
3) **`public/` —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è dev/build** –∏–∑‚Äë–∑–∞ prebuild‚Äë—Å–∫—Ä–∏–ø—Ç–æ–≤, —Ö–æ—Ç—è PoC –ø–æ —Å–º—ã—Å–ª—É –¥–æ–ª–∂–µ–Ω –∂–∏—Ç—å –±–µ–∑ –Ω–µ–≥–æ.  
4) **–°–µ–ª–µ–∫—Ç–æ—Ä –∏ —Ä–æ—É—Ç–∏–Ω–≥ ‚Äú—Ä—É—á–Ω—ã–µ‚Äù**: —Å–ø–∏—Å–æ–∫ –∏–≥—Ä –∏ —Ä–æ—É—Ç—ã —Ä–∞–∑–≤–µ–¥–µ–Ω—ã –ø–æ —Ñ–∞–π–ª–∞–º –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è.  

---

## 2) –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ü–µ–ª–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 2.1 –°–ª–æ–∏ (–≥—Ä–∞–Ω–∏—Ü—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)

**Game domain (—á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞, –±–µ–∑ React/DOM):**
- —Å–æ—Å—Ç–æ—è–Ω–∏—è/–ø–µ—Ä–µ—Ö–æ–¥—ã/–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
- –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤/–ø—Ä–∏–∑–æ–≤

**UI (React):**
- –ø–∞–Ω–µ–ª–∏, –∫–Ω–æ–ø–∫–∏, –ª—ç–π–∞—É—Ç—ã
- –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é

**Infrastructure:**
- assets (–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞, —Ä–µ–∑–æ–ª–≤ –ø—É—Ç–µ–π)
- audio (music/sfx/voice, –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, stop, predecode)
- effects (—á–∞—Å—Ç–∏—Ü—ã/–∞–Ω–∏–º–∞—Ü–∏–∏)
- logging/errors

–ü—Ä–∞–≤–∏–ª–æ: **UI –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ ‚Äú–≤–ª–∞–¥–µ–µ—Ç‚Äù –ª–æ–≥–∏–∫–æ–π**, –º–∞–∫—Å–∏–º—É–º –≤—ã–∑—ã–≤–∞–µ—Ç actions/dispatch –∏ –ø–æ–ª—É—á–∞–µ—Ç derived selectors.

### 2.2 –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ—Å—Ç—å

–ü–µ—Ä–µ–µ–∑–¥ –¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã:
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ;
- —Å—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å re-export‚Äô–∞–º–∏;
- –∫—Ä—É–ø–Ω—ã–µ —Ñ–∞–π–ª—ã –¥—Ä–æ–±–∏–ª–∏—Å—å –±–µ–∑ ‚Äú–ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ‚Äù.

---

## 3) –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Å—Ö–µ–º–∞:

```
docs/                         # dev-–¥–æ–∫–∏: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å–æ–≥–ª–∞—à–µ–Ω–∏—è, –ø–ª–∞–Ω—ã
public/                       # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) asset packs –¥–ª—è –∏–≥—Ä/–¥–≤–∏–∂–∫–∞
scripts/
  build/                      # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—Å—Å–µ—Ç–æ–≤
  media/                      # –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è/–æ—á–∏—Å—Ç–∫–∞ –∞—É–¥–∏–æ/–∫–∞—Ä—Ç–∏–Ω–æ–∫
  sandbox/                    # html/js —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
  data/                       # –ø–∞—Ä—Å–µ—Ä—ã/–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤/—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
src/
  engine/                     # —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –¥–≤–∏–∂–æ–∫
  games/                      # ‚Äú–º–æ–¥—ã‚Äù/–∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è engine
  pages/                      # —Å—Ç—Ä–∞–Ω–∏—Ü—ã/—Ä–æ—É—Ç–∏–Ω–≥ web-app
  app/                        # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) app-shell, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, registry
  styles/                     # (–≤—Ä–µ–º–µ–Ω–Ω–æ) –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –¥–∞–ª–µ–µ ‚Üí engine/styles
```

### 3.1 –ü—Ä–æ `public/` –∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ª–æ–π

–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: ‚Äú–≥–æ–ª—ã–π –¥–≤–∏–∂–æ–∫ (PoC) –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ–∑ `public/`‚Äù.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- `npm run dev`/`npm run build` **–Ω–µ –¥–æ–ª–∂–Ω—ã –ø–∞–¥–∞—Ç—å**, –µ—Å–ª–∏ `public/` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—É—Å—Ç.
- –í—Å–µ runtime‚Äë–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞—Å—Å–µ—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å fallback (emoji/oscillator/–ø—É—Å—Ç–æ).
- –°–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã:
  - —Å–æ–∑–¥–∞–≤–∞—Ç—å `public/` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∏–ª–∏
  - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äú—Å–∫–∏–ø–∞—Ç—å‚Äù –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞—Å—Å–µ—Ç–æ–≤.

---

## 4) –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `src/engine/` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–≤–∏–∂–∫–∞)

–ù–∏–∂–µ ‚Äî —Ü–µ–ª–µ–≤–∞—è ‚Äú–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è‚Äù —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∑–∞—Ç–æ—á–µ–Ω–Ω–∞—è –ø–æ–¥ –ø–∞–Ω–µ–ª–∏/–∫–Ω–æ–ø–∫–∏/–∞—É–¥–∏–æ/–∞—Å—Å–µ—Ç—ã:

```
src/engine/
  index.ts                    # public API (—É–∑–∫–∏–π, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π)

  game/                       # —á–∏—Å—Ç—ã–π –¥–æ–º–µ–Ω (–±–µ–∑ React/DOM)
    state/
      types.ts                # GameState, —Å–æ–±—ã—Ç–∏—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç
      machine.ts              # –ø–µ—Ä–µ—Ö–æ–¥—ã + guard‚Äô—ã (–ø—Ä–∞–≤–∏–ª–∞)
      reducer.ts              # –µ—Å–ª–∏ –Ω—É–∂–µ–Ω reducer-—Å—Ç–∏–ª—å
      selectors.ts            # derived –¥–∞–Ω–Ω—ã–µ –¥–ª—è UI
    lifelines/                # 50:50 / phone / audience / take money
    prizes/                   # ladder + guaranteed logic
    questions/                # –≤—ã–±–æ—Ä–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤, difficulty mapping

  ui/
    layout/
      GameLayout.tsx          # –æ–±—â–∏–π layout (header + panel area + footer)
      PanelStack.tsx          # –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π
    panels/
      CampaignSelectionPanel.tsx
      QuestionPanel.tsx
      AnswersPanel.tsx
      LifelinesPanel.tsx
      HintPanel.tsx
      PrizeLadderPanel.tsx
      ResultPanel.tsx         # won/lost/took
      ErrorPanel.tsx          # –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ, –µ—Å–ª–∏ –æ—à–∏–±–∫–∏
    components/
      buttons/
        ActionButton.tsx
        AnswerButton.tsx
        LifelineButton.tsx
        VolumeButton.tsx
      common/
        Panel.tsx
        PanelHeader.tsx
        LoadingScreen.tsx

    header/
      Header.tsx              # ‚Äú—Ä–µ–∞–ª—å–Ω—ã–π header‚Äù, –µ–¥–∏–Ω—ã–π –¥–ª—è –∏–≥—Ä—ã
      HeaderBackdrop.tsx      # —Å–ª–æ–∏: slideshow + –≤–∏–Ω—å–µ—Ç–∫–∞ + –∞–Ω–∏–º–∞—Ü–∏–∏
      HeaderSlideshow.tsx

  audio/
    MusicPlayer.ts            # —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞ (—Ç—Ä–µ–∫–∏, fade, loop)
    SoundPlayer.ts            # SFX/voice (instant play + stop handles)
    useAudio.ts               # React-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, preferences, wiring
    types.ts

  assets/
    AssetLoader.ts            # —É—Ä–æ–≤–Ω–∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏, –∫–µ—à
    paths.ts                  # base url + —Ä–µ–∑–æ–ª–≤ –ø—É—Ç–µ–π (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞)
    manifest/
      assetManifest.ts        # runtime types + helpers
      imageManifest.ts

  effects/
    ParticleCanvas.tsx
    useEffects.ts
    types.ts

  theme/
    ThemeContext.tsx
    defaultTheme.ts

  icons/
    types.ts                  # IconPack / IconSet –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
    defaults.tsx              # DefaultIcons (emoji)

  services/
    logger.ts
```

### 4.1 –ü–æ—á–µ–º—É —Ç–∞–∫

- `game/` ‚Äî –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (Vitest) –±–µ–∑ DOM.
- `ui/panels` ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–ª–∏: ‚Äú–∫–∞–∂–¥–∞—è –ø–∞–Ω–µ–ª—å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º‚Äù.
- `audio/` ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–ª–∏: `MusicPlayer` –∏ `SoundPlayer`.
- `assets/` ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥—ã –ø—Ä–æ –ø—É—Ç–∏/–º–∞–Ω–∏—Ñ–µ—Å—Ç/–ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É.
- `header/` ‚Äî –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å ‚Äú–ø–æ—Ä—Ç–∞–ª –≤ —Ñ–µ–Ω—Ç–µ–∑–∏‚Äë–º–∏—Ä‚Äù –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–∞–Ω–µ–ª–µ–π.

---

## 5) UI: –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –ø–∞–Ω–µ–ª–∏/–∫–Ω–æ–ø–∫–∏/–ª—ç–π–∞—É—Ç—ã

### 5.1 –ü–∞–Ω–µ–ª–∏ (–∫–∞–∫ —Ç—ã –æ–ø–∏—Å–∞–ª)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞–Ω–µ–ª–µ–π –¥–ª—è MVP‚Äë—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

- `CampaignSelectionPanel`
- `QuestionPanel`
- `LifelinesPanel`
- `HintPanel` (phone/audience)
- `PrizeLadderPanel`
- `LostPanel` / `WonPanel` / `TookMoneyPanel` (–º–æ–∂–Ω–æ –∫–∞–∫ `ResultPanel` + variant)
- `ErrorPanel` (overlay)
- `Header` (–≤—ã–Ω–µ—Å—Ç–∏ –∏–∑ ‚ÄúPanel‚Äù –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å)
- `Footer` (–µ–¥–∏–Ω—ã–π –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π)

### 5.2 `GameScreen` –∫–∞–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

–¶–µ–ª—å: `GameScreen`/`GameLayout`:
- —á–∏—Ç–∞–µ—Ç `GameState` (selectors)
- —Ä–µ—à–∞–µ—Ç, **–∫–∞–∫–∏–µ –ø–∞–Ω–µ–ª–∏ –≤–∏–¥–∏–º—ã**
- –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ –ø–∞–Ω–µ–ª–∏ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ props/actions
- —Å–≤—è–∑—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, lifeline ‚Üí hint ‚Üí audio ‚Üí effects)

### 5.3 –ö–Ω–æ–ø–∫–∏ –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–í—ã–Ω–µ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º—É—é —Ä–∞–∑–º–µ—Ç–∫—É/–∫–ª–∞—Å—Å—ã/–ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- `ActionButton` (Start/NewGame/TakeMoney)
- `AnswerButton` (A/B/C/D, —Å–æ—Å—Ç–æ—è–Ω–∏—è selected/correct/wrong/eliminated)
- `LifelineButton` (50:50/Phone/Audience/TakeMoney, glow/pulse hooks)
- `VolumeButton` (music on/off)

–ë–æ–Ω—É—Å: –µ–¥–∏–Ω—ã–π ‚Äú–∫–Ω–æ–ø–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç‚Äù –¥–ª—è –∑–≤—É–∫–æ–≤/—ç—Ñ—Ñ–µ–∫—Ç–æ–≤:
- `onPress` (pointerdown) ‚Üí –∑–≤—É–∫ ‚Äúlanding‚Äù
- `onClick` ‚Üí –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ

---

## 6) GameState: ‚Äú—Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø—Ä–∞–≤–∏–ª –ø–µ—Ä–µ—Ö–æ–¥–æ–≤‚Äù

### 6.1 –ü–æ—á–µ–º—É —Ç–µ–∫—É—â–∏–π `useGameState` —É–∂–µ –±–ª–∏–∑–∫–æ, –Ω–æ –Ω–∞–¥–æ —É—Å–∏–ª–∏—Ç—å

–°–µ–π—á–∞—Å —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π hook, –Ω–æ:
- –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–µ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã (—Å—Ç—Ä–æ–∫–∏ + setState);
- —ç—Ñ—Ñ–µ–∫—Ç—ã (—Ç–∞–π–º–µ—Ä—ã/–∑–∞–¥–µ—Ä–∂–∫–∏) —Å–º–µ—à–∞–Ω—ã —Å –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π;
- —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Äú–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤‚Äù –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã.

### 6.2 –¶–µ–ª–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–ß–∏—Å—Ç–∞—è –º–∞—à–∏–Ω–∞**:
- —Ç–∏–ø—ã: `GamePhase`, `GameEvent`, `GameContext`
- —Ñ—É–Ω–∫—Ü–∏—è: `transition(state, event) -> newState`
- —Å–µ–ª–µ–∫—Ç–æ—Ä—ã: `getVisiblePanels(state)`, `getCurrentPrize(state)`, ‚Ä¶

**React‚Äë–æ–±–≤—è–∑–∫–∞**:
- `useGameStateMachine(config)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  - `state`
  - `dispatch(event)`
  - `actions` (—Ç–æ–Ω–∫–∏–µ wrappers –≤–æ–∫—Ä—É–≥ dispatch)

### 6.3 –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–ø—Ä–∏–º–µ—Ä)

- –ù–µ–ª—å–∑—è –æ—Ç–≤–µ—á–∞—Ç—å, –µ—Å–ª–∏ `selectedAnswer != null`.
- –ù–µ–ª—å–∑—è –∂–∞—Ç—å lifelines –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞.
- `takeMoney` –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `currentQuestion > 0`.
- `wonPrize` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑ ladder/guaranteed –∏ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö ladder‚Äô–∞—Ö.

---

## 7) Audio: `MusicPlayer` + `SoundPlayer`

### 7.1 –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º—ã

- –ß–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –º—É–∑—ã–∫–∏ –≤ `useAudio`, —á–∞—Å—Ç—å –≤ `audioPlayer.ts`; –µ—Å—Ç—å –¥—É–±–ª–∏.
- `playSound()` –¥–∞—ë—Ç ‚Äúfire-and-forget‚Äù –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç handle –¥–ª—è `stop()`.
- –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ—Å—Ç—ã–ª—å –¥–ª—è campaign select sound (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ —Å–º—ã—Å–ª—É, –Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–º).

### 7.2 –¶–µ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å

**MusicPlayer**
- –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π `HTMLAudioElement` (–∏–ª–∏ WebAudio, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `play(track)`, `stop()`, `fadeTo(track)`, `setEnabled(bool)`
- –∑–Ω–∞–µ—Ç –ø—Ä–æ ‚Äúautoplay restrictions‚Äù –∏ user gesture

**SoundPlayer**
- low‚Äëlatency playback (AudioBufferSourceNode)
- `playSfx(key|file) -> SoundHandle`
- `playVoice(file) -> SoundHandle`
- `stop(handle)` –∏ `stopByTag(tag)` (–¥–ª—è –∫–µ–π—Å–∞ ‚Äú–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–±–æ—Ä –∫–∞–º–ø–∞–Ω–∏–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ‚Äù)
- fallback chain: file ‚Üí oscillator ‚Üí none

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AssetLoader**
- –µ—Å–ª–∏ –∞—Å—Å–µ—Ç—ã –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –ø—Ä–µ–¥–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã ‚Üí –∑–≤—É–∫ ‚Äú–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π‚Äù.
- –µ—Å–ª–∏ –Ω–µ—Ç ‚Üí –ª–µ–Ω–∏–≤—ã–π fetch/decoding —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

## 8) Assets: –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, —É—Ä–æ–≤–Ω–∏, –∏ ‚Äú—Ä–∞–±–æ—Ç–∞ –±–µ–∑ public/‚Äù

### 8.1 –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ö–æ—Ä–æ—à–∞—è, –Ω–æ –Ω—É–∂–Ω–æ ‚Äú—Å–≤–µ—Å—Ç–∏ –≤ –æ–¥–Ω—É —Ç–æ—á–∫—É‚Äù

–°–µ–π—á–∞—Å:
- `services/AssetLoader.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π loader –ø–æ `asset-manifest.json`
- `utils/assetLoader.ts` + `checkFileExists(HEAD)` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—É–¥–∏–æ/–∏–∫–æ–Ω–∫–∞–º–∏
- `HeaderSlideshow` –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π `manifest.json` –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫

### 8.2 –¶–µ–ª—å

- `assets/paths.ts` ‚Äî **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π** –∏—Å—Ç–æ—á–Ω–∏–∫ `baseUrl` –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è URL.
- `AssetLoader` –∑–Ω–∞–µ—Ç –ø—Ä–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∞—Å—Å–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ manifest (–∫–æ–≥–¥–∞ –æ–Ω –µ—Å—Ç—å).
- `checkFileExists` –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ fallback, –Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–∂–µ.

### 8.3 –ë–µ–∑ `public/`

–°—Ü–µ–Ω–∞—Ä–∏–π ‚Äú–Ω–µ—Ç `asset-manifest.json`‚Äù –¥–æ–ª–∂–µ–Ω –æ–∑–Ω–∞—á–∞—Ç—å:
- `AssetLoader.loadManifest()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π manifest –∏ –Ω–µ –≤–∞–ª–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
- preloader —Ö—É–∫–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç UI –Ω–∞–≤—Å–µ–≥–¥–∞.
- UI –∏ –∞—É–¥–∏–æ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –Ω–∞ fallback (emoji/oscillator/–±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫).

---

## 9) Games (`src/games`) –∫–∞–∫ ‚Äú–º–æ–¥—ã‚Äù

### 9.1 –ß—Ç–æ —Ö–æ—Ä–æ—à–æ —É–∂–µ —Å–µ–π—á–∞—Å

- –£ –∫–∞–∂–¥–æ–≥–æ gameId: `config/themes/icons/questions` ‚Äî –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
- `GameConfig` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π.

### 9.2 –ß—Ç–æ —É–ª—É—á—à–∏—Ç—å

- –í–≤–µ—Å—Ç–∏ –µ–¥–∏–Ω—ã–π `GameDefinition`/`GameModule`:
  - `id`, `route`, `title/subtitle`, `config`, `availability`, –≤–æ–∑–º–æ–∂–Ω–æ `devOnly`.
- –í—ã–Ω–µ—Å—Ç–∏ ‚Äú–æ–≥—Ä–æ–º–Ω—ã–µ‚Äù –¥–∞–Ω–Ω—ã–µ:
  - `transformers` companions ‚Üí `companions.ts`
  - –±–æ–ª—å—à–∏–µ question pools ‚Üí –ø–æ —Ñ–∞–π–ª—É –Ω–∞ –∫–∞–º–ø–∞–Ω–∏—é –∏–ª–∏ JSON.
- –ü—Ä–∏–≤—è–∑–∞—Ç—å `GameSelector` –∏ —Ä–æ—É—Ç—ã –∫ —Ä–µ–µ—Å—Ç—Ä—É –∏–≥—Ä (–æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã).

---

## 10) Pages/App: –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä

### 10.1 –ì–¥–µ –¥–æ–ª–∂–µ–Ω –∂–∏—Ç—å GameSelector

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
- **–Ω–µ –≤ engine** (–¥–≤–∏–∂–æ–∫ = gameplay),
- –∞ –≤ `pages/` –∏–ª–∏ `app/` –∫–∞–∫ —á–∞—Å—Ç—å web‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 10.2 –†–µ–µ—Å—Ç—Ä –∏–≥—Ä ‚Üí —Ä–æ—É—Ç—ã ‚Üí GameSelector

–û–¥–∏–Ω —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `src/app/gameRegistry.ts`) –≥–µ–Ω–µ—Ä–∏—Ç:
- —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫
- –º–∞—Ä—à—Ä—É—Ç—ã
- –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å/—Å–∫—Ä—ã—Ç–∏–µ)

---

## 11) –ü–ª–∞–Ω —Ä–∞–±–æ—Ç (–ø–æ —Ñ–∞–∑–∞–º)

–§–∞–∑—ã —Å–¥–µ–ª–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø—Ä–æ–µ–∫—Ç –æ—Å—Ç–∞–≤–∞–ª—Å—è —Ä–∞–±–æ—á–∏–º.

### Phase 0 ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1‚Äì2 –≤–µ—á–µ—Ä–∞)

- –£–¥–∞–ª–∏—Ç—å –º—É—Å–æ—Ä (`.DS_Store` –≤ `src/`), —É—Å–∏–ª–∏—Ç—å `.gitignore`.
- –°–¥–µ–ª–∞—Ç—å `scripts/generate-*` —É—Å—Ç–æ–π—á–∏–≤—ã–º–∏ –∫ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é `public/` (mkdir/skip).
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å ‚Äú–≥—Ä–∞–Ω–∏—Ü—ã –∏–º–ø–æ—Ä—Ç–æ–≤‚Äù (–ø—Ä–∞–≤–∏–ª–æ: engine –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç games/pages).

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:** `npm run dev` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø—É—Å—Ç—ã–º/–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º `public/`.

### Phase 1 ‚Äî —Ä–∞–∑–ª–æ–∂–∏—Ç—å engine –ø–æ —Å–ª–æ—è–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è

- –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä–∫–∞—Å –ø–∞–ø–æ–∫ `engine/{audio,assets,game,ui,...}`.
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ (—á–µ—Ä–µ–∑ re-export‚Äô—ã –≤ —Å—Ç–∞—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö).
- –í—ã–Ω–µ—Å—Ç–∏ `assets/paths.ts` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ `import.meta.env.BASE_URL` –≤ engine.

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:** —Å–±–æ—Ä–∫–∞/—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, API `src/engine/index.ts` –Ω–µ —Å–ª–æ–º–∞–Ω.

### Phase 2 ‚Äî GameState: –≤—ã–¥–µ–ª–∏—Ç—å —á–∏—Å—Ç—É—é –º–∞—à–∏–Ω—É + thin hook

- –í—ã–Ω–µ—Å—Ç–∏ transition rules/–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ `engine/game/state/*`.
- `useGameState` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±–≤—è–∑–∫–æ–π –≤–æ–∫—Ä—É–≥ –º–∞—à–∏–Ω—ã.
- –î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ unit‚Äë—Ç–µ—Å—Ç—ã –Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥—ã (Vitest).

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:** –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ React.

### Phase 3 ‚Äî UI: —Ä–∞–∑—Ä–µ–∑–∞—Ç—å GameScreen –Ω–∞ –ø–∞–Ω–µ–ª–∏ –∏ –∫–Ω–æ–ø–∫–∏

- –í—ã–Ω–µ—Å—Ç–∏:
  - `QuestionPanel`, `AnswersPanel`, `LifelinesPanel`, `HintPanel`, `PrizeLadderPanel`
  - –∫–Ω–æ–ø–∫–∏: `AnswerButton`, `LifelineButton`, `ActionButton`, `VolumeButton`
- `GameLayout` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç header/footer –∏ ‚Äú–ø–æ–ª–µ –ø–∞–Ω–µ–ª–µ–π‚Äù.
- Start/End —ç–∫—Ä–∞–Ω—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –ø–∞–Ω–µ–ª–µ–π (–∏–ª–∏ variants).

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:** `GameScreen.tsx` –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –±—ã—Ç—å –º–æ–Ω–æ–ª–∏—Ç–æ–º, UI –ø—Ä–æ—â–µ –º–µ–Ω—è—Ç—å.

### Phase 4 ‚Äî Audio: MusicPlayer/SoundPlayer + stop handles

- –í—ã–¥–µ–ª–∏—Ç—å `MusicPlayer` –∏ `SoundPlayer`.
- –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ `useAudio` –Ω–∞ –Ω–æ–≤—ã–π API.
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å ‚Äú–º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –æ—Å—Ç–∞–Ω–æ–≤–∫—É‚Äù —á–µ—Ä–µ–∑ handles/tagging (campaign select).

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:** –±–æ–ª—å—à–µ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–∏, stop —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.

### Phase 5 ‚Äî Assets: –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –∏ fallback

- `AssetLoader` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏.
- `useFavicon`/–∏–∫–æ–Ω–∫–∏/–∞—É–¥–∏–æ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–∏—Ç–∞—é—Ç manifest, –∞ –Ω–µ HEAD.
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞ fallback –≤ docs.

### Phase 6 ‚Äî Games/Pages: –µ–¥–∏–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –∏–≥—Ä

- `gameRegistry` ‚Üí —Ä–æ—É—Ç–∏–Ω–≥ ‚Üí —Å–µ–ª–µ–∫—Ç–æ—Ä.
- Dev‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã (`EffectsSandbox`, `HeaderSlideshowSandbox`) –ø–æ–º–µ—Ç–∏—Ç—å devOnly.

---

## 12) –î–æ–ø. —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ)

- Path aliases –≤ TS (`@engine/*`, `@games/*`) ‚Äî –º–µ–Ω—å—à–µ ‚Äú../../..‚Äù.
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Äúbarrel exports‚Äù –≤ –≥–æ—Ä—è—á–∏—Ö –º–µ—Å—Ç–∞—Ö (—á—Ç–æ–±—ã –Ω–µ —Ç—è–Ω—É—Ç—å –ª–∏—à–Ω–µ–µ –≤ –±–∞–Ω–¥–ª).
- –û—Ç–¥–µ–ª—å–Ω—ã–π `engine/styles/index.css` –∏ —è–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç ‚Äú—Å—Ç–∏–ª–µ–π –¥–≤–∏–∂–∫–∞‚Äù –∏–∑ app.
- ‚ÄúPerformance budget‚Äù: –Ω–µ –¥–µ–ª–∞—Ç—å `HEAD`/`fetch` –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö).

---

## 13) –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å —ç—Ç–æ—Ç –ø–ª–∞–Ω, —è –±—ã –Ω–∞—á–∞–ª —Å **Phase 0**:
1) —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `public/`;  
2) —É–±—Ä–∞—Ç—å `.DS_Store` –∏–∑ `src/`;  
3) –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å ‚Äú–≥—Ä–∞–Ω–∏—Ü—ã –∏–º–ø–æ—Ä—Ç–æ–≤‚Äù –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–ª–æ—ë–≤.

