# üß± –î–∏–∑–¥–æ–∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Millionaire (Engine + Games)

–î–∞—Ç–∞: 2025‚Äë12‚Äë13  
–°—Ç–∞—Ç—É—Å: draft v2 (–ø–ª–∞–Ω, –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

---

## 1 –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∏–∑–¥–æ–∫–æ–º

### 1.1 –ß—Ç–æ —ç—Ç–æ –∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç

- –≠—Ç–æ—Ç –¥–∏–∑–¥–æ–∫ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **—Ü–µ–ª–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –∏ **–ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω** —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.
- –≠—Ç–æ—Ç –¥–∏–∑–¥–æ–∫ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è** –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º ‚Äú—Å–¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å‚Äù. –†–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞—á–∏–Ω–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ç—ã —è–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—à—å.

### 1.2 –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

- –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –≤—Å–µ–≥–¥–∞:
  - –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∏–∑–¥–æ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é;
  - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º —Ç—Ä–æ–≥–∞—Ç—å, –∏ —Ñ–∞–π–ª—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —ç—Ç–æ –ø–æ–≤–ª–∏—è–µ—Ç (–∏–º–ø–æ—Ä—Ç—ã/—Ç–∏–ø—ã/—Å—Ç–∏–ª–∏/–∞—Å—Å–µ—Ç—ã/—Å–∫—Ä–∏–ø—Ç—ã).

### 1.3 –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ (–∫–æ–≥–¥–∞ –Ω–∞—á–Ω—ë–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é)

- –£ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –µ—Å—Ç—å —á–µ–∫‚Äë—Å—Ç–∞—Ç—É—Å: `‚¨ú` (–Ω–µ –Ω–∞—á–∞—Ç–æ) ‚Üí `‚úÖ` (—Å–¥–µ–ª–∞–Ω–æ).
- –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞:
  - –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã;
  - –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç;
  - –¥–µ–ª–∞—Ç—å `git commit` **–≤ –≤–µ—Ç–∫—É `refactoring`**;
  - –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ ‚Äú–ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç‚Äù –≤–Ω–∏–∑—É.

#### 1.3.1 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –∫–æ–º–∞–Ω–¥

- –õ–∏–Ω—Ç: `npm run lint`
- –¢–µ—Å—Ç—ã: `npm test`
- –°–±–æ—Ä–∫–∞: `npm run build`
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Ñ–æ—Ä–º–∞—Ç: `npm run format:check`

### 1.4 –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç: –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

- –ù–∞ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω **–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è** –∏ **—Å–æ–±–∏—Ä–∞—Ç—å—Å—è**.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è API ‚Äî –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ `re-export`/–∞–¥–∞–ø—Ç–µ—Ä—ã, –∞ –Ω–µ –ª–æ–º–∞—Ç—å –≤—Å—ë –æ–¥–Ω–∏–º –º–∞—Ö–æ–º.

---

## 2 –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –∏ –µ–¥–∏–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å

### 2.1 –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–µ–∑–¥–µ)

- `question` ‚Äî –≤–æ–ø—Ä–æ—Å (—Ç–µ–∫—Å—Ç + 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞).
- `answer` ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ (–∏ ‚Äú–æ—Ç–≤–µ—Ç –∏–≥—Ä–æ–∫–∞‚Äù –∫–∞–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç).
- `prizeLadder` ‚Äî –ø—Ä–∏–∑–æ–≤–∞—è –ª–µ—Å—Ç–Ω–∏—Ü–∞ (–≤—Å–µ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫).
- `reward` ‚Äî –Ω–∞–≥—Ä–∞–¥–∞ –≤ –∫–æ–Ω—Ü–µ –∏–≥—Ä—ã (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, UI‚Äë–±–ª–æ–∫ ‚Äú—á—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏–ª‚Äù).
- `rewardKind` ‚Äî —Ç–∏–ø –Ω–∞–≥—Ä–∞–¥—ã:
  - `trophy` ‚Äî –ø–æ–±–µ–¥–∞ (–∫—É–±–æ–∫/–ø—Ä–∏–∑/—Ç–æ—Ä—Ç/–∫—Ä—ã–ª–∞—Ç—ã–π —Å–≤–µ—Ç).
  - `money` ‚Äî –∑–∞–±—Ä–∞–ª –¥–µ–Ω—å–≥–∏ (–¥–µ–Ω—å–≥–∏/—ç–Ω–µ—Ä–≥–æ–Ω/—Å–≤–µ—á–∏).
  - `defeat` ‚Äî –ø—Ä–æ–∏–≥—Ä—ã—à (—á–µ—Ä–µ–ø/—Ä–∞–∑–±–∏—Ç–∞—è –∏—Å–∫—Ä–∞/–Ω–∞—Ç‚Äë1/–ø–∞–¥—à–∞—è –∑–≤–µ–∑–¥–∞).

### 2.2 Lifeline: –µ–¥–∏–Ω—ã–π —Ç–µ—Ä–º–∏–Ω –≤–º–µ—Å—Ç–æ hint

–ü—Ä–∞–≤–∏–ª–æ: –≤—Å—ë, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º/—Å–ø–µ—Ü—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º ‚Äî —ç—Ç–æ **`lifeline`**.

- –í –∫–æ–¥–µ/—Ç–∏–ø–∞—Ö/—Ñ–∞–π–ª–∞—Ö/–∞—Å—Å–µ—Ç–∞—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º `hint*`.
- –ï—Å–ª–∏ —ç—Ç–æ UI‚Äë–ø–∞–Ω–µ–ª—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º ‚Äú–ø–æ–¥—Å–∫–∞–∑–∫–∏‚Äù ‚Äî —ç—Ç–æ `Lifeline*Panel`, –∞ –Ω–µ `HintPanel`.

### 2.3 –ù–∞–±–æ—Ä lifeline‚Äô–æ–≤ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–µ–º)

–§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏: `<id> - "<EN name>" "<RU name>" (–ø–æ—è—Å–Ω–µ–Ω–∏–µ): BG3 / Transformers / Sky‚ÄëCotL`

- `fifty` - `"50:50"` `"50:50"` (—É–±—Ä–∞—Ç—å –¥–≤–∞ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞):  
  BG3: `50:50` / Transformers: `50:50` / Sky‚ÄëCotL: `50:50`

- `phone` - `"Phone-a-Friend"` `"–ó–≤–æ–Ω–æ–∫ –¥—Ä—É–≥—É"` (–ø–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/–¥—Ä—É–≥–∞):  
  BG3: `–ü–æ—Å–ª–∞–Ω–∏–µ` / Transformers: `–ë–∞–∑–∞` / Sky‚ÄëCotL: `Ask Friend`

- `audience` - `"Ask-the-Audience"` `"–ü–æ–º–æ—â—å –∑–∞–ª–∞"` (–ø–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äú–≥–æ–ª–æ—Å–æ–≤‚Äù):  
  BG3: `–¢–∞–≤–µ—Ä–Ω–∞` / Transformers: `–û—Ç—Ä—è–¥` / Sky‚ÄëCotL: `Ask Chat`

- `host` - `"Ask-the-Host"` `"–ü–æ–º–æ—â—å –≤–µ–¥—É—â–µ–≥–æ"` (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: ‚Äú–≤–µ–¥—É—â–∏–π‚Äù –¥–∞—ë—Ç —Å–æ–≤–µ—Ç/–ø–æ–¥—Å–≤–µ—Ç–∫—É):  
  BG3: `–ú–∞—Å—Ç–µ—Ä` / Transformers: `–ü—Ä–∞–π–º—É—Å` / Sky‚ÄëCotL: `The Guide`

- `switch` - `"Switch-the-Question"` `"–ó–∞–º–µ–Ω–∞ –≤–æ–ø—Ä–æ—Å–∞"` (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –∑–∞–º–µ–Ω–∏—Ç—å –≤–æ–ø—Ä–æ—Å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞):  
  BG3: `–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ` / Transformers: `–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è` / Sky‚ÄëCotL: `Second Wind`

- `double` - `"Double Dip"` `"–ü—Ä–∞–≤–æ –Ω–∞ –æ—à–∏–±–∫—É"` (–Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å 2 –æ—Ç–≤–µ—Ç–∞):  
  BG3: `–î–æ–±–ª–µ—Å—Ç—å` / Transformers: `–î–≤–æ–π–Ω–æ–π –∑–∞–ª–ø` / Sky‚ÄëCotL: `Second Chance`

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- PoC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RU‚Äë–Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (–±–µ–∑ —Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏–∏).
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã/–ª–µ–π–±–ª—ã –≤ –º–æ–¥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —ç—Ç–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏, —á—Ç–æ–±—ã UI –∏ –∞—Å—Å–µ—Ç—ã –Ω–µ —Ä–∞—Å–ø–æ–ª–∑–∞–ª–∏—Å—å.

### 2.4 –ù–µ–π–º–∏–Ω–≥ –∞—Å—Å–µ—Ç–æ–≤ –¥–ª—è lifeline‚Äô–æ–≤ (—á—Ç–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º)

–°–µ–π—á–∞—Å –≤ –∫–æ–¥–µ/–∞—Å—Å–µ—Ç–∞—Ö –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è `HintReduce/HintVote/...`. –í —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ:

- SFX (—Ñ–∞–π–ª—ã): `LifelineFifty.*`, `LifelinePhone.*`, `LifelineAudience.*`, `LifelineHost.*`, `LifelineSwitch.*`, `LifelineDouble.*`
- –ö–ª—é—á–∏ –∑–≤—É–∫–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥–µ: `lifelineFifty`, `lifelinePhone`, `lifelineAudience`, `lifelineHost`, `lifelineSwitch`, `lifelineDouble`

–ú–∏–≥—Ä–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç—Å—è **—ç—Ç–∞–ø–æ–º**: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∫–ª—é—á–µ–π (deprecated), –∑–∞—Ç–µ–º —É–¥–∞–ª–µ–Ω–∏–µ.

#### 2.4.1 –¢–∞–±–ª–∏—Ü–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ (old ‚Üí new)

–¶–µ–ª—å: —É–±—Ä–∞—Ç—å `hint*` –∏–∑ –∫–æ–¥–∞/—Ç–∏–ø–æ–≤/–∞—Å—Å–µ—Ç–æ–≤, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å `lifeline*` –∏ –æ—Ç–¥–µ–ª–∏—Ç—å `takeMoney` –∫–∞–∫ action (–Ω–µ lifeline).

##### 2.4.1.1 –¢–∏–ø—ã –∏ –ø–æ–ª—è GameState (domain)

| –°–µ–π—á–∞—Å (old) | –ë—É–¥–µ—Ç (new) | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|---|---|
| `Hint` (union `phone|audience|null`) | `LifelineResult` (union `phone|audience|host|switch|double|null`) | ‚Äúhint‚Äù –∏—Å—á–µ–∑–∞–µ—Ç; —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–µ lifeline‚Äô—ã |
| `hint` | `lifelineResult` | —Ç–æ, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö UI (–ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ lifeline) |
| `clearHint()` | `clearLifelineResult()` | –Ω–µ–π–º–∏–Ω–≥ |
| `useFiftyFifty()` | `useLifelineFifty()` | –µ–¥–∏–Ω—ã–π `lifeline` –ø—Ä–µ—Ñ–∏–∫—Å |
| `usePhoneAFriend()` | `useLifelinePhone()` | idem |
| `useAskAudience()` | `useLifelineAudience()` | idem |
| `takeTheMoney()` | `takeMoney()` (–∏–ª–∏ `walkAway()`) | —ç—Ç–æ **action**, –Ω–µ lifeline |

##### 2.4.1.2 –ö–ª—é—á–∏ `GameConfig.lifelines` (config)

| –°–µ–π—á–∞—Å (old) | –ë—É–¥–µ—Ç (new) | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|---|---|
| `fiftyFifty` | `fifty` | –¥–æ–º–µ–Ω–Ω—ã–π id lifeline = `fifty` |
| `phoneAFriend` | `phone` | –¥–æ–º–µ–Ω–Ω—ã–π id lifeline = `phone` |
| `askAudience` | `audience` | –¥–æ–º–µ–Ω–Ω—ã–π id lifeline = `audience` |
| `takeMoney` | _(—É–¥–∞–ª–∏—Ç—å –∏–∑ lifelines)_ | `takeMoney` –ø–µ—Ä–µ–µ–∑–∂–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ actions (—Å–º. –Ω–∏–∂–µ) |

–ù–æ–≤—ã–π –±–ª–æ–∫ –≤ `GameConfig` (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ):

| –ù–æ–≤—ã–π –∫–ª—é—á | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| `actions.takeMoney` | UI/label/icon –¥–ª—è –∫–Ω–æ–ø–∫–∏ ‚Äú–∑–∞–±—Ä–∞—Ç—å –¥–µ–Ω—å–≥–∏‚Äù (–≤–Ω–∏–∑—É `PrizeLadderPanel`) |

##### 2.4.1.3 –ö–ª—é—á–∏ –∑–≤—É–∫–æ–≤ (`GameConfig.audio.sounds`)

| –°–µ–π—á–∞—Å (old) | –ë—É–¥–µ—Ç (new) | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|---|---|
| `hintReduceButton` | `lifelineFifty` | SFX –¥–ª—è lifeline `fifty` |
| `hintCallButton` | `lifelinePhone` | SFX –¥–ª—è lifeline `phone` |
| `hintVoteButton` | `lifelineAudience` | SFX –¥–ª—è lifeline `audience` |
| `hintTakeMoneyButton` | `takeMoneyButton` | —ç—Ç–æ **–Ω–µ lifeline**, —ç—Ç–æ action‚Äë–∫–Ω–æ–ø–∫–∞ |

##### 2.4.1.4 –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∞—Å—Å–µ—Ç–æ–≤ (SFX)

| –°–µ–π—á–∞—Å (old) | –ë—É–¥–µ—Ç (new) | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|---|---|
| `HintReduce.ogg` | `LifelineFifty.ogg` | |
| `HintCall.ogg` | `LifelinePhone.ogg` | |
| `HintVote.ogg` | `LifelineAudience.ogg` | |
| `HintTakeMoney.ogg` | `TakeMoney.ogg` | action sound (–Ω–µ lifeline) |

##### 2.4.1.5 –ü–ª–∞–Ω —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (deprecated –∞–ª–∏–∞—Å—ã)

- –ù–∞ –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –ø–µ—Ä–∏–æ–¥: `useAudio.playSoundEffect()` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ —Å—Ç–∞—Ä—ã–µ, –∏ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ (mapping).
- –°–∫—Ä–∏–ø—Ç/—Ç–∞–±–ª–∏—Ü–∞ ‚Äúasset rename‚Äù —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º (–≤ docs –∏–ª–∏ `scripts/`), —á—Ç–æ–±—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –±—ã–ª–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–º.

---

## 3 –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

### 3.1 –î–µ—Ä–µ–≤–æ `src/` –∏ `scripts/` (—Ç–æ—á–Ω–æ–µ, –∏–∑ `tree`)

#### 3.1.1 Tree output

```text
src
‚îú‚îÄ‚îÄ .DS_Store
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ components
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ GameSelector.test.tsx
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ GameSelector.tsx
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ App.tsx
‚îú‚îÄ‚îÄ engine
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ .DS_Store
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ components
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ DefaultIcons.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ EndScreen.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ErrorBoundary.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ GameScreen.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ HeaderPanel.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ HeaderSlideshow.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ LoadingScreen.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ MillionaireGame.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ParticleCanvas.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ StartScreen.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ui
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ Panel.tsx
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ PanelHeader.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ constants.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ context
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ThemeContext.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ hooks
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ useAssetPreloader.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ useAudio.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ useEffects.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ useFavicon.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ useGameState.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ services
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ AssetLoader.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ logger.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ types.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ types
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ utils
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ assetLoader.ts
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ audioPlayer.ts
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ questionGenerator.ts
‚îú‚îÄ‚îÄ games
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ .DS_Store
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bg3
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ config.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ icons.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ questions.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ themes.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ poc
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ config.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ icons.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ questions.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ themes.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ sky-cotl
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ config.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ icons.tsx
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ questions.ts
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ themes.ts
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ transformers
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ config.ts
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ icons.tsx
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ questions.ts
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ themes.ts
‚îú‚îÄ‚îÄ index.css
‚îú‚îÄ‚îÄ main.tsx
‚îú‚îÄ‚îÄ pages
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ BG3Page.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ EffectsSandboxPage.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.ts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ PocPage.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ SandboxPage.tsx
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ SkyCotlPage.tsx
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ TransformersPage.tsx
‚îú‚îÄ‚îÄ styles
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ animations.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ base.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ buttons.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ fonts.css
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ prize-ladder.css
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ shine.css
‚îú‚îÄ‚îÄ tailwind.css
‚îî‚îÄ‚îÄ vite-env.d.ts
scripts
‚îú‚îÄ‚îÄ comics_parser.py
‚îú‚îÄ‚îÄ convert_mp3_to_ogg.sh
‚îú‚îÄ‚îÄ generate-asset-manifest.js
‚îú‚îÄ‚îÄ generate-image-manifest.js
‚îî‚îÄ‚îÄ sandbox
    ‚îú‚îÄ‚îÄ g1_names_to_json.py
    ‚îú‚îÄ‚îÄ G1_translations.csv
    ‚îú‚îÄ‚îÄ millionaire-sounds.html
    ‚îî‚îÄ‚îÄ test-prizes.js
```

### 3.2 –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —Ñ–∞–π–ª—É (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ + –∑–∞–º–µ—Ç–∫–∞ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)

#### 3.2.1 `src/`

- `src/.DS_Store` ‚Äî –º—É—Å–æ—Ä (macOS), —É–¥–∞–ª–∏—Ç—å –∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
- `src/App.tsx` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è SPA; —Ü–µ–ª—å: –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ—É—Ç—ã –∏–∑ `GameRegistry` –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.
- `src/main.tsx` ‚Äî –≤—Ö–æ–¥, `BrowserRouter basename`, –æ–±—Ä–∞–±–æ—Ç–∫–∞ GitHub Pages 404; –æ—Å—Ç–∞–≤–∏—Ç—å, –Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã/—Ä–æ—É—Ç–µ—Ä‚Äë—Ö–µ–ª–ø–µ—Ä—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- `src/index.css` ‚Äî –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä CSS —á–µ—Ä–µ–∑ `@import`; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –Ω–∞ `engine/ui/styles` –∏/–∏–ª–∏ `@layer` –∏ —É–±—Ä–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –Ω–µ–π–º–∏–Ω–≥ `shine` ‚Üí `glare`.
- `src/tailwind.css` ‚Äî tailwind layers; –æ–∫.
- `src/vite-env.d.ts` ‚Äî —Ç–∏–ø—ã Vite; –æ–∫.

#### 3.2.2 `src/app/components/`

- `src/app/components/GameSelector.tsx` ‚Äî —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–≥—Ä (UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è); —Ü–µ–ª—å: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç –∏ –æ–ø–µ—Ä–µ—Ç—å—Å—è –Ω–∞ `GameRegistry` (–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã).
- `src/app/components/GameSelector.test.tsx` ‚Äî smoke‚Äë—Ç–µ—Å—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä–∞; —Ä–∞—Å—à–∏—Ä—è—Ç—å, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è registry.
- `src/app/components/index.ts` ‚Äî barrel export; –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è `GameRegistry` –≤–æ–∑–º–æ–∂–Ω–æ —Å—Ç–∞–Ω–µ—Ç –Ω–µ –Ω—É–∂–µ–Ω.

#### 3.2.3 `src/pages/`

- `src/pages/index.ts` ‚Äî barrel export —Å—Ç—Ä–∞–Ω–∏—Ü; –≤ –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é.
- `src/pages/PocPage.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø—É—Å–∫–∞ PoC; —Ü–µ–ª—å: —Ä–æ—É—Ç –∏–∑ registry.
- `src/pages/BG3Page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø—É—Å–∫–∞ BG3; —Ü–µ–ª—å: —Ä–æ—É—Ç –∏–∑ registry.
- `src/pages/TransformersPage.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø—É—Å–∫–∞ Transformers; —Ü–µ–ª—å: —Ä–æ—É—Ç –∏–∑ registry.
- `src/pages/SkyCotlPage.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø—É—Å–∫–∞ Sky‚ÄëCotL; —Ü–µ–ª—å: —Ä–æ—É—Ç –∏–∑ registry.
- `src/pages/SandboxPage.tsx` ‚Äî –æ—Ç–ª–∞–¥–∫–∞ `HeaderSlideshow`; —Ü–µ–ª—å: –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ devOnly –∏ –≤—ã–Ω–µ—Å—Ç–∏ –∏–∑ prod navigation.
- `src/pages/EffectsSandboxPage.tsx` ‚Äî –¥–µ–º–æ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤; —Ü–µ–ª—å: devOnly.

#### 3.2.4 `src/styles/`

- `src/styles/base.css` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π reset + body —Ñ–æ–Ω + CSS vars; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ `engine/ui/styles/base.css` (–∏–ª–∏ `@layer base`) –∏ –Ω–µ –º–µ—à–∞—Ç—å –≤–Ω–µ—à–Ω–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º.
- `src/styles/animations.css` ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤/–ø–∞–Ω–µ–ª–µ–π; —Ü–µ–ª—å: –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `engine/ui/styles/animations.css`.
- `src/styles/buttons.css` ‚Äî –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–Ω–æ–ø–æ–∫ + —ç—Ñ—Ñ–µ–∫—Ç—ã; —Ü–µ–ª—å: —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è (Spawn/Idle/Hover/Press/Click/Ease/Kill) –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `shine` ‚Üí `glare`.
- `src/styles/prize-ladder.css` ‚Äî —Å—Ç–∏–ª–∏ `prizeLadder`; —Ü–µ–ª—å: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ–π–º–∏–Ω–≥ `prizeLadder`, –∞ ‚Äúshine‚Äù —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `glare`.
- `src/styles/fonts.css` ‚Äî `@font-face`; —Ü–µ–ª—å: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å, —É–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–µ–º–∞–º–∏.
- `src/styles/shine.css` ‚Äî ‚Äúshine sweep‚Äù; —Ü–µ–ª—å: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å/–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π `glare` (–æ–¥–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –¥–≤–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è).

#### 3.2.5 `src/engine/` (–ø—É–±–ª–∏—á–Ω—ã–π –¥–≤–∏–∂–æ–∫)

- `src/engine/.DS_Store` ‚Äî –º—É—Å–æ—Ä (macOS), —É–¥–∞–ª–∏—Ç—å –∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å.
- `src/engine/index.ts` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π API –¥–≤–∏–∂–∫–∞ (barrel); —Ü–µ–ª—å: —Å—É–∑–∏—Ç—å API, —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ —Ä–∞–∑–¥—É–≤–∞—Ç—å –±–∞–Ω–¥–ª.
- `src/engine/constants.ts` ‚Äî –æ–±—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã; —Ü–µ–ª—å: —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ ‚Äúsingle source of truth‚Äù.

##### 3.2.5.1 Components

- `src/engine/components/index.ts` ‚Äî barrel export –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤; —Ü–µ–ª—å: –ø–æ–∑–∂–µ —Ä–∞–∑–Ω–µ—Å—Ç–∏ –ø–æ `engine/ui/*` –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º.
- `src/engine/components/MillionaireGame.tsx` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä; —Ü–µ–ª—å: –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ `GameLayout` + wiring state/audio/assets.
- `src/engine/components/StartScreen.tsx` ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω; —Ü–µ–ª—å: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π, –∞ –Ω–µ –º–æ–Ω–æ–ª–∏—Ç.
- `src/engine/components/GameScreen.tsx` ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã; —Ü–µ–ª—å: —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –Ω–∞ –ø–∞–Ω–µ–ª–∏/–∫–Ω–æ–ø–∫–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª 7).
- `src/engine/components/EndScreen.tsx` ‚Äî —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞; —Ü–µ–ª—å: –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `ResultPanel` —Å –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –∏—Å—Ö–æ–¥–∞.
- `src/engine/components/HeaderPanel.tsx` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äú—à–∞–ø–∫–∏‚Äù (–ø–æ–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏); —Ü–µ–ª—å: –≤—ã–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π `Header` (–Ω–µ Panel) –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫—É/–∞–Ω–∏–º–∞—Ü–∏–∏.
- `src/engine/components/HeaderSlideshow.tsx` ‚Äî —Ñ–æ–Ω‚Äë—Å–ª–∞–π–¥—à–æ—É; —Ü–µ–ª—å: –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ —á–∞—Å—Ç—å `HeaderBackdrop`.
- `src/engine/components/ParticleCanvas.tsx` ‚Äî canvas‚Äë—ç—Ñ—Ñ–µ–∫—Ç—ã; —Ü–µ–ª—å: –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ UI‚Äë–ø–æ–¥—Å–∏—Å—Ç–µ–º—É —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å API.
- `src/engine/components/LoadingScreen.tsx` ‚Äî loader UI; —Ü–µ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `systemStrings` –∏–∑ `GameConfig` –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏.
- `src/engine/components/DefaultIcons.tsx` ‚Äî –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ emoji‚Äë–∏–∫–æ–Ω–∫–∏; —Ü–µ–ª—å: –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ ‚ÄúDefaultIconPack‚Äù.
- `src/engine/components/ErrorBoundary.tsx` ‚Äî error boundary; —Ü–µ–ª—å: –æ—Å—Ç–∞–≤–∏—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å ‚ÄúErrorPanel‚Äù –ø–æ–≤–µ—Ä—Ö –∏–≥—Ä—ã (–Ω–µ —Ç–æ–ª—å–∫–æ fallback‚Äë—ç–∫—Ä–∞–Ω).

##### 3.2.5.2 UI (Panel system)

- `src/engine/components/ui/index.ts` ‚Äî barrel.
- `src/engine/components/ui/Panel.tsx` ‚Äî –±–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å; —Ü–µ–ª—å: –æ—Å—Ç–∞–≤–∏—Ç—å –≤ `engine/ui/components/common/Panel`.
- `src/engine/components/ui/PanelHeader.tsx` ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏; —Ü–µ–ª—å: –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å light themes (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å–¥–µ–ª–∞–Ω–æ) –∏ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å `Panel`.

##### 3.2.5.3 Context

- `src/engine/context/index.ts` ‚Äî barrel.
- `src/engine/context/ThemeContext.tsx` ‚Äî `ThemeProvider/useTheme`; —Ü–µ–ª—å: —ç—Ç–æ UI‚Äë—Å–ª–æ–π, –ø–æ–∑–∂–µ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ `engine/ui/theme`.

##### 3.2.5.4 Hooks

- `src/engine/hooks/index.ts` ‚Äî barrel.
- `src/engine/hooks/useGameState.ts` ‚Äî —Ç–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è; —Ü–µ–ª—å: –≤—ã–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞/–ø–µ—Ä–µ—Ö–æ–¥—ã –≤ ‚Äú–º–∞—à–∏–Ω—É‚Äù (—Å–º. 7.3).
- `src/engine/hooks/useAudio.ts` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ; —Ü–µ–ª—å: —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ `MusicPlayer`/`SoundPlayer` –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å stop‚Äëhandles.
- `src/engine/hooks/useEffects.ts` ‚Äî API —ç—Ñ—Ñ–µ–∫—Ç–æ–≤; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ UI‚Äë—Å–ª–æ–π —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.
- `src/engine/hooks/useFavicon.ts` ‚Äî favicon resolving; —Ü–µ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç/–∫–µ—à, –∏–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö HEAD.
- `src/engine/hooks/useAssetPreloader.ts` ‚Äî preload —É—Ä–æ–≤–Ω–µ–π; —Ü–µ–ª—å: gracefully —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ `public/`/–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞.

##### 3.2.5.5 Services

- `src/engine/services/index.ts` ‚Äî barrel.
- `src/engine/services/logger.ts` ‚Äî logger; —Ü–µ–ª—å: –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å `console.*` –≤ engine.
- `src/engine/services/types.ts` ‚Äî —Ç–∏–ø—ã –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞/—É—Ä–æ–≤–Ω–µ–π; —Ü–µ–ª—å: –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ `engine/assets/manifest/*`.
- `src/engine/services/AssetLoader.ts` ‚Äî manifest‚Äëbased loader; —Ü–µ–ª—å: —Å—Ç–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π preload + –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—É—Ç–µ–π.

##### 3.2.5.6 Types

- `src/engine/types/index.ts` ‚Äî –¥–æ–≥–æ–≤–æ—Ä API –¥–≤–∏–∂–∫–∞ (GameConfig, ThemeColors, etc.); —Ü–µ–ª—å: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `hint*` ‚Üí `lifeline*`, —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å `rewardKind`, –Ω–µ –ª–æ–º–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ä–∞–∑—É.

##### 3.2.5.7 Utils

- `src/engine/utils/index.ts` ‚Äî barrel.
- `src/engine/utils/questionGenerator.ts` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤/ladder; —Ü–µ–ª—å: –≤ –¥–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π `engine/game/*`.
- `src/engine/utils/assetLoader.ts` ‚Äî path helpers + HEAD exists; —Ü–µ–ª—å: —Å–ª–∏—Ç—å —Å `AssetLoader`/`paths.ts`, –æ—Å—Ç–∞–≤–∏—Ç—å fallback.
- `src/engine/utils/audioPlayer.ts` ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∞—É–¥–∏–æ; —Ü–µ–ª—å: —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ `SoundPlayer`/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–∫–µ—à/oscillator.

#### 3.2.6 `src/games/` (–º–æ–¥—ã/–∫–æ–Ω—Ç–µ–Ω—Ç)

- `src/games/.DS_Store` ‚Äî –º—É—Å–æ—Ä (macOS), —É–¥–∞–ª–∏—Ç—å –∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å.
- `src/games/index.ts` ‚Äî barrel export –∏–≥—Ä; —Ü–µ–ª—å: –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `GameRegistry` –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã.

##### 3.2.6.1 BG3

- `src/games/bg3/index.ts` ‚Äî barrel; —Ü–µ–ª—å: –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ `campaigns/` —Å—Ç–∞–Ω–µ—Ç ‚Äú—Ç–æ–Ω–∫–∏–º‚Äù.
- `src/games/bg3/config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥ –∏–≥—Ä—ã; —Ü–µ–ª—å: —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ game‚Äëlevel –∏ campaign‚Äëlevel —á–∞—Å—Ç–∏.
- `src/games/bg3/themes.ts` ‚Äî —Ç–µ–º—ã –∫–∞–º–ø–∞–Ω–∏–π; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ `campaigns/*/theme.ts`.
- `src/games/bg3/questions.ts` ‚Äî –ø—É–ª –≤–æ–ø—Ä–æ—Å–æ–≤; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ `campaigns/*/questions.*`.
- `src/games/bg3/icons.tsx` ‚Äî –∏–∫–æ–Ω–∫–∏; —Ü–µ–ª—å: —á–∞—Å—Ç—å –æ–±—â–∞—è –¥–ª—è –∏–≥—Ä—ã, —á–∞—Å—Ç—å ‚Äî –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π.

##### 3.2.6.2 PoC

- `src/games/poc/index.ts` ‚Äî barrel.
- `src/games/poc/config.ts` ‚Äî PoC‚Äë–∫–æ–Ω—Ñ–∏–≥; —Ü–µ–ª—å: –æ—Å—Ç–∞—Ç—å—Å—è ‚Äú–±–µ–∑ public‚Äù, oscillator only, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ lifeline‚Äë–Ω–∞–∑–≤–∞–Ω–∏—è.
- `src/games/poc/themes.ts` ‚Äî —Ç–µ–º—ã; —Ü–µ–ª—å: –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å.
- `src/games/poc/questions.ts` ‚Äî –≤–æ–ø—Ä–æ—Å—ã; —Ü–µ–ª—å: –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å.
- `src/games/poc/icons.tsx` ‚Äî emoji‚Äë–∏–∫–æ–Ω–∫–∏; —Ü–µ–ª—å: –æ–∫.

##### 3.2.6.3 Sky‚ÄëCotL

- `src/games/sky-cotl/index.ts` ‚Äî barrel.
- `src/games/sky-cotl/config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥ (–∞–Ω–≥–ª. —Å—Ç—Ä–æ–∫–∏ + `systemStrings`); —Ü–µ–ª—å: –ø—Ä–∏–≤–µ—Å—Ç–∏ lifeline‚Äë—Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –∏ –∏–º–µ–Ω–∞ –≤ registry.
- `src/games/sky-cotl/themes.ts` ‚Äî light‚Äëtheme, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—è ThemeColors; —Ü–µ–ª—å: –∑–∞–∫—Ä–µ–ø–∏—Ç—å ‚Äúlight theme contract‚Äù –≤ engine UI.
- `src/games/sky-cotl/questions.ts` ‚Äî –≤–æ–ø—Ä–æ—Å—ã (EN); —Ü–µ–ª—å: –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—É–ª.
- `src/games/sky-cotl/icons.tsx` ‚Äî SVG/emoji‚Äë–∏–∫–æ–Ω–∫–∏; —Ü–µ–ª—å: –æ–∫.

##### 3.2.6.4 Transformers

- `src/games/transformers/index.ts` ‚Äî barrel.
- `src/games/transformers/config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥ (–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π); —Ü–µ–ª—å: –≤—ã–Ω–µ—Å—Ç–∏ companions/questions –ø–æ –∫–∞–º–ø–∞–Ω–∏–∏, –∑–∞—Ç–µ–º `campaigns/*`.
- `src/games/transformers/themes.ts` ‚Äî —Ç–µ–º—ã; —Ü–µ–ª—å: –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ `campaigns/*/theme.ts` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å game‚Äëlevel –µ—Å–ª–∏ –æ–±—â–∏–µ).
- `src/games/transformers/questions.ts` ‚Äî –±–æ–ª—å—à–æ–π –ø—É–ª; —Ü–µ–ª—å: —Ä–∞–∑–±–∏—Ç—å –ø–æ –∫–∞–º–ø–∞–Ω–∏–∏.
- `src/games/transformers/icons.tsx` ‚Äî –∏–∫–æ–Ω–∫–∏; —Ü–µ–ª—å: –æ–∫.

#### 3.2.7 `scripts/`

- `scripts/generate-asset-manifest.js` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä `public/asset-manifest.json`; —Ü–µ–ª—å: –Ω–µ –ø–∞–¥–∞—Ç—å –±–µ–∑ `public/` (mkdir/skip), –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ `scripts/build/*`.
- `scripts/generate-image-manifest.js` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä `manifest.json` –¥–ª—è —Å–ª–∞–π–¥—à–æ—É; —Ü–µ–ª—å: —Ç–æ–∂–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –±–µ–∑ `public/`.
- `scripts/convert_mp3_to_ogg.sh` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –º–µ–¥–∏–∞; —Ü–µ–ª—å: –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `scripts/media/`.
- `scripts/comics_parser.py` ‚Äî –ø–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö; —Ü–µ–ª—å: –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `scripts/data/` –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–µ—Ç–∏.
- `scripts/sandbox/millionaire-sounds.html` ‚Äî —Ä—É—á–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞ –∑–≤—É–∫–æ–≤; —Ü–µ–ª—å: –æ—Å—Ç–∞–≤–∏—Ç—å –≤ sandbox.
- `scripts/sandbox/test-prizes.js` ‚Äî —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ladder; —Ü–µ–ª—å: –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å unit‚Äë—Ç–µ—Å—Ç–∞–º–∏ –≤ `engine/game/prizes`.
- `scripts/sandbox/g1_names_to_json.py` ‚Äî data —É—Ç–∏–ª–∏—Ç–∞; —Ü–µ–ª—å: `scripts/data/`.
- `scripts/sandbox/G1_translations.csv` ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É—Ç–∏–ª–∏—Ç; —Ü–µ–ª—å: `scripts/data/`.

---

### 3.3 –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å ‚Äú—Ö–≤–æ—Å—Ç–∞–º–∏‚Äù –∏ –Ω—É–∂–Ω–æ –ª–∏ —ç—Ç–æ –¥–µ–ª–∞—Ç—å

–ù–∏–∂–µ ‚Äî –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—ë –µ—â—ë –∏–º–µ—é—Ç —Å–º—ã—Å–ª –¥–µ–ª–∞—Ç—å (–∏ –ø–æ—ç—Ç–æ–º—É –≤–∫–ª—é—á–µ–Ω—ã –≤ —ç—Ç–∞–ø—ã), –∏ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞–µ–º –Ω–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

- –ê–∫—Ç—É–∞–ª—å–Ω–æ –∏ –≤–∫–ª—é—á–µ–Ω–æ –≤ –ø–ª–∞–Ω:
  - `glare`‚Äë–º–∏–≥—Ä–∞—Ü–∏—è (`shine` ‚Üí `glare`) + —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–Ω–æ–ø–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (–≠—Ç–∞–ø 7).
  - –†–∞–∑–±–æ—Ä CSS –Ω–∞ —Å–ª–æ–∏/`engine/ui/styles` –∏ —Ä–µ–≤–∏–∑–∏—è —à—Ä–∏—Ñ—Ç–æ–≤ (–≠—Ç–∞–ø 7).
  - –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∞—Å—Å–µ—Ç‚Äë–ø—É—Ç–µ–π/–º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –±–µ–∑ `public/` (–≠—Ç–∞–ø 6).
  - –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–æ–Ω–æ–ª–∏—Ç–æ–≤ (`GameScreen`, `useAudio`, `audioPlayer`, `AssetLoader`) (–≠—Ç–∞–ø 3/5/6).
- –ù–µ –¥–µ–ª–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ ‚Äú–≤ –æ—Ç—Ä—ã–≤–µ‚Äù:
  - –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ ‚Äú–Ω–∞ –≤—Å—ë‚Äù ‚Äî —Ä–∞—Å—à–∏—Ä—è–µ–º —Ç–µ—Å—Ç—ã —Ç–æ—á–µ—á–Ω–æ –ø–æ –º–µ—Ä–µ –≤—ã–Ω–æ—Å–∞ –¥–æ–º–µ–Ω–∞/–º–∞—à–∏–Ω—ã (–≠—Ç–∞–ø 3+).
  - –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö `console.*` ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏–º –Ω–∞ `logger` –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤–º–µ—Å—Ç–µ —Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π.

---

## 4 –¶–µ–ª–∏ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ü–µ–ª–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 4.1 –°–ª–æ–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

- `engine/game` ‚Äî —á–∏—Å—Ç—ã–π –¥–æ–º–µ–Ω (–±–µ–∑ React/DOM): –ø—Ä–∞–≤–∏–ª–∞, –ø–µ—Ä–µ—Ö–æ–¥—ã, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.
- `engine/ui` ‚Äî React UI: –ø–∞–Ω–µ–ª–∏, –∫–Ω–æ–ø–∫–∏, layout, header, theme, icons, effects.
- `engine/assets` ‚Äî –∞—Å—Å–µ—Ç—ã: –ø—É—Ç–∏, –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, preload.
- `engine/audio` ‚Äî –∞—É–¥–∏–æ: music/sfx/voice + stop‚Äëhandles.
- `engine/services` ‚Äî logger –∏ –ø—Ä–æ—á–µ–µ.

### 4.2 –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –ü–µ—Ä–µ–µ–∑–¥—ã –¥–µ–ª–∞–µ–º —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä—ã/—Ä–µ‚Äë—ç–∫—Å–ø–æ—Ä—Ç—ã.
- –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –¥—Ä–æ–±–∏–º, –Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º.

---

## 5 GameRegistry (–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

### 5.1 –ü–æ—á–µ–º—É registry –ª—É—á—à–µ, —á–µ–º GameSelector

- `GameSelector` ‚Äî UI.  
- `GameRegistry` ‚Äî **–¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∞–≤–∏–ª–∞**: –∫–∞–∫–∏–µ –∏–≥—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –∫–∞–∫–∏–µ —Ä–æ—É—Ç—ã, –∫–∞–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–∞–∫–∏–µ devOnly.

–¶–µ–ª—å: UI —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –±—É–¥–µ—Ç ‚Äú—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å registry‚Äù, –∞ –Ω–µ –∂–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ä—É—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

### 5.2 –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Ñ–æ—Ä–º–∞ registry

- `GameDefinition`:
  - `id` (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `GameConfig.id`)
  - `routePath`
  - `title/subtitle/emoji` (–¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏)
  - `available`/`devOnly`
  - `getConfig(): Promise<GameConfig>` (lazy import, code splitting)

---

## 6 Engine: GameState –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ `machine.ts` / `reducer.ts` / `selectors.ts`

### 6.1 –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –º—ã —Ö–æ—Ç–∏–º –æ—Ç GameState

- –Ø–≤–Ω–∞—è –º–æ–¥–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è (phase + –∫–æ–Ω—Ç–µ–∫—Å—Ç).
- –Ø–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (events).
- –Ø–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (guards).
- –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–Ω–µ–ª—å–∑—è –∫–ª–∏–∫–∞—Ç—å –æ—Ç–≤–µ—Ç –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞, –Ω–µ–ª—å–∑—è lifeline –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –∏ —Ç.–¥.).
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å unit‚Äë—Ç–µ—Å—Ç–æ–≤ –±–µ–∑ React.

### 6.2 –ó–∞—á–µ–º —Ä–∞–∑–Ω–æ—Å–∏—Ç—å –Ω–∞ —Ç—Ä–∏ —Ñ–∞–π–ª–∞

#### 6.2.1 `machine.ts` (–ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤)

–≠—Ç–æ ‚Äú—Ç–∞–±–ª–∏—Ü–∞ –∑–∞–∫–æ–Ω–æ–≤‚Äù: –∫–∞–∫–∏–µ `event` –¥–æ–ø—É—Å—Ç–∏–º—ã –∏–∑ –∫–∞–∫–∏—Ö `phase` –∏ –∫ —á–µ–º—É –ø—Ä–∏–≤–æ–¥—è—Ç, –≤–∫–ª—é—á–∞—è guards.

- –ü—Ä–∏–º–µ—Ä: `phase: playing` + `event: ANSWER_SELECTED` ‚Üí `phase: reveal` (–∏–ª–∏ –æ—Å—Ç–∞—ë–º—Å—è playing, –Ω–æ —Å —Ç–∞–π–º–µ—Ä–æ–º).
- –ü—Ä–∏–º–µ—Ä guard: `TAKE_MONEY` –∑–∞–ø—Ä–µ—â—ë–Ω –Ω–∞ `currentQuestion === 0`.

`machine.ts` –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π lib; —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –º–æ–¥—É–ª—å —Å `transition(state, event)` –∏ —Ç–∞–±–ª–∏—Ü–µ–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

#### 6.2.2 `reducer.ts` (–º–µ—Ö–∞–Ω–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

–≠—Ç–æ ‚Äú–∫–∞–∫ –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ‚Äù, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ —É–∂–µ —Ä–∞–∑—Ä–µ—à—ë–Ω.

–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- `machine.ts` –≤—ã–∑—ã–≤–∞–µ—Ç `applyEvent(state, event)` –∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π state (redux‚Äëstyle).
- –∏–ª–∏ `machine.ts` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ‚Äú—ç—Ñ—Ñ–µ–∫—Ç/–∫–æ–º–∞–Ω–¥—É‚Äù, –∞ reducer –ø—Ä–∏–º–µ–Ω—è–µ—Ç.

–°–º—ã—Å–ª: –æ—Ç–¥–µ–ª–∏—Ç—å ‚Äú—Ä–∞–∑—Ä–µ—à–µ–Ω–æ/–∑–∞–ø—Ä–µ—â–µ–Ω–æ‚Äù –æ—Ç ‚Äú–∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–∞—Å—Å–∏–≤—ã/–∏–Ω–¥–µ–∫—Å—ã/–≤—ã—á–∏—Å–ª–µ–Ω–∏—è‚Äù.

#### 6.2.3 `selectors.ts` (derived –¥–∞–Ω–Ω—ã–µ –¥–ª—è UI)

UI –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–∞–º –≤—ã—á–∏—Å–ª—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ derived –≤–µ—â–∏.

–ü—Ä–∏–º–µ—Ä—ã:
- `selectRewardKind(state)`
- `selectVisiblePanels(state)`
- `selectCurrentPrize(state)`
- `selectQuestionDifficulty(state)`
- `selectLifelineAvailability(state)`

`selectors.ts` –¥–µ–ª–∞–µ—Ç UI —Ç–æ–Ω—å—à–µ, –∞ —Ç–µ—Å—Ç—ã ‚Äî –ø—Ä–æ—â–µ (–ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –æ—Ç–¥–µ–ª—å–Ω–æ).

---

### 6.3 –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –º–æ–¥–µ–ª—å GameState (v0, –¥–ª—è —Å—Ç–∞—Ä—Ç–∞)

–¶–µ–ª—å: –æ–ø–∏—Å–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã:
- UI (–ø–∞–Ω–µ–ª–∏) –≤–∫–ª—é—á–∞–ª–∏—Å—å/–≤—ã–∫–ª—é—á–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã;
- –∑–∞–¥–µ—Ä–∂–∫–∏/–ø–µ—Ä–µ—Ö–æ–¥—ã –±—ã–ª–∏ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã;
- —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã–º–∏ lifeline‚Äô–∞–º–∏ –Ω–µ –ª–æ–º–∞–ª–æ –º–æ–¥–µ–ª—å.

#### 6.3.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

- `phase` ‚Äî –∫—Ä—É–ø–Ω–∞—è —Ñ–∞–∑–∞ –∏–≥—Ä—ã (–∫–∞–∫–æ–π ‚Äú—Ä–µ–∂–∏–º‚Äù —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–µ–Ω).
- `session` ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏/ladder/–≤—ã–±–æ—Ä–æ–º –∫–∞–º–ø–∞–Ω–∏–∏/—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º lifeline‚Äô–æ–≤.
- `ui` ‚Äî —Ç–æ, —á—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–≤–µ—Ä—Ö (lifeline result panel, errors).

#### 6.3.2 Phase (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)

```
type Phase =
  | 'campaign'        // –≤—ã–±–æ—Ä –∫–∞–º–ø–∞–Ω–∏–∏ (–¥–æ —Å—Ç–∞—Ä—Ç–∞)
  | 'playing'         // –∏–≥—Ä–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏–π question
  | 'reveal'          // –≤—ã–±—Ä–∞–Ω answer, –∏–¥—ë—Ç reveal-–∞–Ω–∏–º–∞—Ü–∏—è/—Ç–∞–π–º–µ—Ä
  | 'result';         // –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º reward
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- ‚Äú–∑–∞–≥—Ä—É–∑–∫–∞ –∞—Å—Å–µ—Ç–æ–≤‚Äù –Ω–µ –æ–±—è–∑–∞–Ω–∞ –±—ã—Ç—å phase GameState: —ç—Ç–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`AssetLoader`) –∏ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º overlay/—ç–∫—Ä–∞–Ω–æ–º.

#### 6.3.3 –°–æ—Å—Ç–æ—è–Ω–∏–µ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

```
interface GameState {
  phase: Phase;

  selectedCampaignId: string | null;

  questions: Question[];
  currentQuestionIndex: number;     // 0-based
  shuffledAnswerOrder: number[];    // –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ A/B/C/D ‚Üí 0..3

  selectedAnswerIndex: number | null;   // display index (0..3)
  eliminatedAnswerIndices: number[];    // display indices removed by fifty

  lifelines: {
    fifty: { available: boolean; usedAtQuestionIndex?: number };
    phone: { available: boolean; usedAtQuestionIndex?: number };
    audience: { available: boolean; usedAtQuestionIndex?: number };
    host: { available: boolean; usedAtQuestionIndex?: number };
    switch: { available: boolean; usedAtQuestionIndex?: number };
    double: { available: boolean; usedAtQuestionIndex?: number };
  };

  lifelineResult: LifelineResult | null; // –¥–∞–Ω–Ω—ã–µ –¥–ª—è Lifeline*Panel

  prizeLadder: PrizeLadder;
  reward: { kind: 'trophy' | 'money' | 'defeat'; amount: string };

  reveal: null | {
    startedAtMs: number;
    answerDisplayIndex: number;
  };

  error: null | { message: string; details?: unknown };
}
```

#### 6.3.4 –°–æ–±—ã—Ç–∏—è (Events)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Å–æ–±—ã—Ç–∏–π –¥–ª—è v0:

- `CAMPAIGN_SELECTED(campaignId)`
- `GAME_STARTED`
- `ANSWER_PRESSED(displayIndex)`
- `REVEAL_FINISHED`
- `LIFELINE_USED(kind)` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fifty|phone|audience`)
- `LIFELINE_RESULT_CLOSED`
- `TAKE_MONEY_REQUESTED` (action, –Ω–µ lifeline)
- `NEW_GAME_REQUESTED`
- `ERROR_RAISED(payload)` / `ERROR_CLEARED`

#### 6.3.5 –ü–µ—Ä–µ—Ö–æ–¥—ã (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)

- `campaign`:
  - `CAMPAIGN_SELECTED` ‚Üí –æ—Å—Ç–∞—ë–º—Å—è `campaign` (selectedCampaignId –æ–±–Ω–æ–≤–ª—ë–Ω)
  - `GAME_STARTED` (guard: campaign selected) ‚Üí `playing`

- `playing`:
  - `ANSWER_PRESSED` (guard: selectedAnswerIndex == null) ‚Üí `reveal` (+selectedAnswerIndex, +reveal.startedAt)
  - `LIFELINE_USED(fifty)` (guard: available, selectedAnswerIndex==null) ‚Üí `playing` (+eliminated)
  - `LIFELINE_USED(phone|audience|host)` ‚Üí `playing` (+lifelineResult –æ—Ç–∫—Ä—ã—Ç)
  - `LIFELINE_USED(switch)` ‚Üí `playing` (+–∑–∞–º–µ–Ω–∏—Ç—å –≤–æ–ø—Ä–æ—Å, reset answer state)
  - `LIFELINE_USED(double)` ‚Üí `playing` (+—Ä–µ–∂–∏–º ‚Äú–¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞‚Äù ‚Äî —É—Ç–æ—á–Ω–∏—Ç—å –≤ v1)
  - `TAKE_MONEY_REQUESTED` (guard: currentQuestionIndex>0) ‚Üí `result` (reward.kind=`money`)

- `reveal`:
  - `REVEAL_FINISHED` ‚Üí –ª–∏–±–æ `playing` (–µ—Å–ª–∏ correct –∏ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π), –ª–∏–±–æ `result` (reward.kind=`trophy`), –ª–∏–±–æ `result` (reward.kind=`defeat`)

- `result`:
  - `NEW_GAME_REQUESTED` ‚Üí `campaign` (reset session)

#### 6.3.6 –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (v0)

- –ù–µ–ª—å–∑—è `ANSWER_PRESSED` –µ—Å–ª–∏ `phase != playing`.
- –ù–µ–ª—å–∑—è `LIFELINE_USED(*)` –µ—Å–ª–∏ `selectedAnswerIndex != null` (–ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞).
- `TAKE_MONEY_REQUESTED` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `currentQuestionIndex > 0`.
- `reward.kind` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ (—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º) –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è ‚Äú–≤—Ä—É—á–Ω—É—é‚Äù –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö.

---

## 7 UI: –ø–∞–Ω–µ–ª–∏, –∫–Ω–æ–ø–∫–∏, header, —ç—Ñ—Ñ–µ–∫—Ç—ã, —Ç–µ–º–∞, –∏–∫–æ–Ω–∫–∏

### 7.1 –ì–¥–µ –∂–∏–≤—ë—Ç `Header`

–†–µ—à–µ–Ω–∏–µ: `Header` ‚Äî —ç—Ç–æ UI. –î–µ—Ä–∂–∏–º –µ–≥–æ –≤ `engine/ui/components/header/*` (–∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º –≤–µ—Ä—Ö–Ω–∏–º –º–æ–¥—É–ª–µ–º), —á—Ç–æ–±—ã –≤—Å—ë –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –±—ã–ª–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

### 7.2 –ö—É–¥–∞ –¥–µ–≤–∞—Ç—å `effects`, `theme`, `icons`

–≠—Ç–æ –≤—Å—ë ‚Äúpresentation/UI‚Äù, –ø–æ—ç—Ç–æ–º—É:
- `engine/ui/effects/*`
- `engine/ui/theme/*`
- `engine/ui/icons/*`

`assets` –∏ `audio` –æ—Å—Ç–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

### 7.3 –ü–∞–Ω–µ–ª–∏ (–ø–∞–Ω–µ–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–º–µ—Å—Ç–æ ‚Äú—ç–∫—Ä–∞–Ω‚Äë–º–æ–Ω–æ–ª–∏—Ç–∞‚Äù)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞–Ω–µ–ª–µ–π –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

- `CampaignSelectionPanel`
- `QuestionPanel`
- `AnswersPanel`
- `LifelinesPanel`
- `PrizeLadderPanel`
- `ResultPanel` (–≤–∞—Ä–∏–∞–Ω—Ç—ã: `trophy|money|defeat`)
- `ErrorPanel` (overlay)

–ü–∞–Ω–µ–ª–∏ ‚Äú—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ lifeline‚Äù (–∑–∞–º–µ–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ HintPanel):

- `LifelinePhonePanel`
- `LifelineAudiencePanel`
- (–≤ –±—É–¥—É—â–µ–º) `LifelineHostPanel`
- (–≤ –±—É–¥—É—â–µ–º) `LifelineSwitchPanel`
- (–≤ –±—É–¥—É—â–µ–º) `LifelineDoublePanel`

–î–∞, –æ–Ω–∏ –ø–æ—Ö–æ–∂–∏, –Ω–æ –æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è/—Å–∫—Ä—ã—Ç–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—â–µ–π –¥–ª—è Panel‚Äë—Å–∏—Å—Ç–µ–º—ã (–∞–Ω–∏–º–∞—Ü–∏–∏/—Ç–∞–π–º–∏–Ω–≥–∏), –∞ –Ω–µ –∑–∞—à–∏—Ç–∞ –≤ –æ–¥–∏–Ω ‚ÄúHintPanel‚Äù.

### 7.4 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–º–ø–∞–Ω–∏–∏

–î–æ–±–∞–≤–∏—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å:

- `src/engine/ui/components/cards/campaign/CampaignCard.tsx`

–¶–µ–ª—å: –≤—ã–¥–µ–ª–∏—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é/–∞–Ω–∏–º–∞—Ü–∏–∏/—Å–≤–µ—á–µ–Ω–∏—è/—ç—Ñ—Ñ–µ–∫—Ç—ã –≤–æ–∫—Ä—É–≥ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–º–ø–∞–Ω–∏–∏ –±–µ–∑ —Ä–∞–∑–¥—É–≤–∞–Ω–∏—è `CampaignSelectionPanel`.

### 7.5 –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)

–í—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ engine UI –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è:

- `Spawn` ‚Äî –ø–æ—è–≤–ª–µ–Ω–∏–µ (—á–∞—Å—Ç–æ –ø—É—Å—Ç–æ).
- `Idle` ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–æ–∂–Ω–æ idle‚Äë–∞–Ω–∏–º–∞—Ü–∏–∏).
- `Hover` ‚Äî hover + –ø–æ–¥—ä—ë–º + `glare(right)`.
- `Press` ‚Äî –≤–¥–∞–≤–ª–∏–≤–∞–Ω–∏–µ + –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ + `glare(left)` + –∑–≤—É–∫ ‚Äúpress‚Äù.
- `Click` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–≤—É–∫ click).
- `Ease` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ Press –≤ Idle (–µ—Å–ª–∏ –æ—Ç–ø—É—Å—Ç–∏–ª–∏/—É–≤–µ–ª–∏ –∫—É—Ä—Å–æ—Ä).
- `Kill` ‚Äî –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ (–∞–Ω–∏–º–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∞).

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ª–æ–≥–∏–∫–∞ ‚Äúpress‚Äëcancel –µ—Å–ª–∏ —É–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä‚Äù —Ç—Ä–µ–±—É–µ—Ç pointer events + pointer capture.

### 7.6 Glare (–µ–¥–∏–Ω—ã–π —Ç–µ—Ä–º–∏–Ω –∏ –µ–¥–∏–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

–ü—Ä–∞–≤–∏–ª–æ: —ç—Ñ—Ñ–µ–∫—Ç –±–ª–∏–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **`glare`**.

–¶–µ–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –æ–¥–Ω–∞ ‚Äú—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è‚Äù —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
  - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: right/left
  - —à–∏—Ä–∏–Ω–∞
  - —Å–∫–æ—Ä–æ—Å—Ç—å
  - –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å/–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö `shine`/`shine-reverse` –Ω–µ–π–º–∏–Ω–≥–æ–≤.

–ü–ª–∞–Ω –ø–æ —Å—Ç–∏–ª—è–º:
- –∑–∞–º–µ–Ω–∏—Ç—å `src/styles/shine.css` –Ω–∞ `engine/ui/styles/glare.css`
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS custom properties –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `--glare-from`, `--glare-to`, `--glare-width`, `--glare-duration`, `--glare-alpha`)

---

## 8 Games: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º

### 8.1 –ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–°–µ–π—á–∞—Å —É –∏–≥—Ä—ã –æ–±—ã—á–Ω–æ –ø–ª–æ—Å–∫–æ: `config.ts / themes.ts / questions.ts / icons.tsx`.  
–≠—Ç–æ –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —É –∫–∞–º–ø–∞–Ω–∏–π —Ä–∞–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤.

### 8.2 –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–≥—Ä

```
src/games/<gameId>/
  game.ts                      # game-level config composer
  registry.ts                  # –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è GameRegistry (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  shared/
    icons.tsx
    audio.ts
    strings.ts
  campaigns/
    <campaignId>/
      campaign.ts              # Campaign meta (id/name/label/icon/theme hooks)
      theme.ts
      questions.ts
      assets.ts                # campaign-specific asset mapping (optional)
```

### 8.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ —Ç–µ–∫—É—â–∏–º –∏–≥—Ä–∞–º

- BG3:
  - `campaigns/hero`, `campaigns/mindFlayer`, `campaigns/darkUrge`
- Transformers:
  - `campaigns/megatron`, `campaigns/autocracy`, `campaigns/skybound`
- Sky‚ÄëCotL:
  - `campaigns/journey` (–ø–æ–∫–∞ –æ–¥–Ω–∞)
- PoC:
  - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω–æ (–Ω–æ —Ç–æ–∂–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å `campaigns/easy`/`campaigns/hard` –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏).

---

## 9 Assets –∏ ‚Äú–¥–≤–∏–∂–æ–∫ –±–µ–∑ public/‚Äù

### 9.1 –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ

PoC –∏ –±–∞–∑–æ–≤—ã–π engine –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ–∑ `public/`.

### 9.2 –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

- –°–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã:
  - —Å–æ–∑–¥–∞–≤–∞—Ç—å `public/` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∏–ª–∏
  - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –µ—Å–ª–∏ –∞—Å—Å–µ—Ç–æ–≤ –Ω–µ—Ç.
- Runtime `AssetLoader`/`useAssetPreloader` –¥–æ–ª–∂–Ω—ã:
  - –Ω–µ –ø–∞–¥–∞—Ç—å, –µ—Å–ª–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç;
  - –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å UI –Ω–∞–≤—Å–µ–≥–¥–∞.

---

## 10 –ü–ª–∞–Ω —Ä–∞–±–æ—Ç (—ç—Ç–∞–ø—ã)

### 10.1 –ü—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ç–∞–ø–æ–≤

- –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø ‚Äî —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π, —Ä–∞–±–æ—á–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è:
  - —Ç–µ—Å—Ç–∞–º–∏;
  - —Å–±–æ—Ä–∫–æ–π;
  - –∫–æ–º–º–∏—Ç–æ–º –≤ `refactoring`.

### 10.2 –≠—Ç–∞–ø—ã

- ‚úÖ **–≠—Ç–∞–ø 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è**
  - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –≤ –∫–æ–¥–µ (–ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ `hint*` ‚Üí `lifeline*`).
  - –î–æ–±–∞–≤–∏—Ç—å `rewardKind` (`trophy|money|defeat`) –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ EndScreen/ResultPanel –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫ —ç—Ç–æ–º—É.
  - Acceptance: –¥–∏–∑–¥–æ–∫ –∞–∫—Ç—É–∞–ª–µ–Ω, —Ç–∏–ø—ã –Ω–µ –ª–æ–º–∞—é—Ç—Å—è, –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ deprecated –∞–ª–∏–∞—Å–æ–≤.

- ‚úÖ **–≠—Ç–∞–ø 2. GameRegistry**
  - –í–≤–µ—Å—Ç–∏ `GameRegistry` –∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ `App.tsx`/—Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–∞ –Ω–µ–≥–æ.
  - –ú–∞—Ä–∫–∏—Ä–æ–≤–∞—Ç—å devOnly —Å—Ç—Ä–∞–Ω–∏—Ü—ã (EffectsSandbox/SandboxPage) –∏ —Å–∫—Ä—ã–≤–∞—Ç—å –≤ UI.
  - Acceptance: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã = –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ registry.

- ‚úÖ **–≠—Ç–∞–ø 3. Engine UI: –ø–∞–Ω–µ–ª–∏ –∏ CampaignCard**
  - –†–∞–∑—Ä–µ–∑–∞—Ç—å `GameScreen` –Ω–∞ –ø–∞–Ω–µ–ª–∏ (`QuestionPanel`, `AnswersPanel`, `LifelinesPanel`, `PrizeLadderPanel`).
  - –í–≤–µ—Å—Ç–∏ `CampaignSelectionPanel` + `CampaignCard`.
  - `EndScreen` –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `ResultPanel(variant)`.
  - Acceptance: `GameScreen.tsx` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –ø–∞–Ω–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã.

- ‚úÖ **–≠—Ç–∞–ø 4. Lifeline panels –∏ –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å lifeline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**
  - `HintPanel` ‚Üí `LifelinePhonePanel`/`LifelineAudiencePanel` (+ –æ–±—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è).
  - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–µ—Å—Ç–∞ –¥–ª—è `host/switch/double`.
  - Acceptance: UI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `lifelineResult`/`lifelineState`, –Ω–∏–≥–¥–µ –Ω–µ—Ç `hint*` –≤ –Ω–æ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö.

- ‚¨ú **–≠—Ç–∞–ø 5. Audio: MusicPlayer + SoundPlayer**
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏: –º—É–∑—ã–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ, SFX/voice –æ—Ç–¥–µ–ª—å–Ω–æ.
  - –í–≤–µ—Å—Ç–∏ stop‚Äëhandles/tagging (–¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–±–æ—Ä–∞ –∫–∞–º–ø–∞–Ω–∏–∏).
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å ‚Äúhint‚Äù SFX –≤ ‚Äúlifeline‚Äù (—Å –∞–ª–∏–∞—Å–∞–º–∏).
  - Acceptance: `playCampaignSelectSound` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç–Ω—ã–º —Å–ª—É—á–∞–µ–º (tagged sound), stop —Ä–∞–±–æ—Ç–∞–µ—Ç.

- ‚¨ú **–≠—Ç–∞–ø 6. Assets: –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—É—Ç–µ–π + —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –±–µ–∑ public/**
  - –í—ã–Ω–µ—Å—Ç–∏ `paths.ts` –∫–∞–∫ –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É `baseUrl` –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—É—Ç–µ–π.
  - `AssetLoader` —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–º.
  - –°–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ —É—Å—Ç–æ–π—á–∏–≤—ã –±–µ–∑ `public/`.
  - Acceptance: `npm run dev` —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ –ø—É—Å—Ç–æ–º `public/`.

- ‚¨ú **–≠—Ç–∞–ø 7. Styles: glare + —Å–ª–æ–∏ CSS + —á–∏—Å—Ç–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤**
  - `shine` ‚Üí `glare`: –µ–¥–∏–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –º–∏–≥—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤.
  - –†–∞–∑–ª–æ–∂–∏—Ç—å —Å—Ç–∏–ª–∏ –ø–æ —Å–ª–æ—è–º `engine/ui/styles/*` –∏–ª–∏ `@layer`.
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —à—Ä–∏—Ñ—Ç—ã: —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–µ–º–∞–º–∏/–∏–≥—Ä–∞–º–∏.
  - Acceptance: –Ω–µ–π–º–∏–Ω–≥ `glare` –µ–¥–∏–Ω—ã–π, –Ω–µ—Ç ‚Äúshine‚Äù.

- ‚¨ú **–≠—Ç–∞–ø 8. Games: campaigns/***
  - –ü–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å –∏–≥—Ä—ã –Ω–∞ `campaigns/<id>/*`.
  - –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ Transformers —Ñ–∞–π–ª—ã.
  - Acceptance: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–≥—Ä—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, –º–µ–Ω—å—à–µ –º–æ–Ω–æ–ª–∏—Ç–æ–≤.

---

## 11 –ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç

### 11.1 –ó–∞–ø–∏—Å–∏

- 2025‚Äë12‚Äë13 (codex): –æ–±–Ω–æ–≤–ª—ë–Ω –¥–∏–∑–¥–æ–∫ (v2): –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è (`lifeline`, `prizeLadder`, `rewardKind`), –æ–ø–∏—Å–∞–Ω `GameRegistry`, —É—Ç–æ—á–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `games/campaigns`, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –∏ —ç—Ç–∞–ø—ã.
- 2025‚Äë12‚Äë13 (codex): –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ —ç—Ç–∞–ø—ã –¥–∏–∑–¥–æ–∫–∞; —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –∞–Ω–∞–ª–∏–∑–∞ —É–¥–∞–ª—ë–Ω.
- 2025‚Äë12‚Äë13 (codex): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ ‚Äú—Å–º. —Ä–∞–∑–¥–µ–ª ‚Ä¶‚Äù, –¥–æ–±–∞–≤–ª–µ–Ω—ã ‚Äú–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã‚Äù –∏ ‚Äú–†–∏—Å–∫–∏‚Äù.
- 2025‚Äë12‚Äë13 (codex): –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ `hint* ‚Üí lifeline*`, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ —è–≤–Ω–∞—è –º–æ–¥–µ–ª—å `GameState` (v0), –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã —Ä–µ—à–µ–Ω–∏—è: `takeMoney`=action –≤ `PrizeLadderPanel`, `glare`=CSS‚Äë–ø—Ä–∏–º–∏—Ç–∏–≤, `systemStrings`=—á–∞—Å—Ç—å `GameConfig`.
- 2025‚Äë12‚Äë13 (codex): —Å—Ç–∞—Ä—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `refactoring` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å `main` (Sky‚ÄëCotL), –ø–æ–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç `GameSelector`.
- 2025‚Äë12‚Äë13 (codex): ‚úÖ –≠—Ç–∞–ø 1: –≤–≤–µ–¥–µ–Ω—ã `LifelineKind/LifelineResult/RewardKind`, –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–ª–∏–∞—Å—ã `hint* ‚Üí lifeline*` (types + audio), `GameScreen` –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ SFX –∏ –Ω–æ–≤—ã–µ –∏–º–µ–Ω–∞ (—Å fallback –Ω–∞ —Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä–æ–∫–∏/–∏–∫–æ–Ω–∫–∏/–∫–ª—é—á–∏).
- 2025‚Äë12‚Äë13 (codex): ‚úÖ –≠—Ç–∞–ø 2: –≤–≤–µ–¥—ë–Ω `GameRegistry` (routes + –∫–∞—Ä—Ç–æ—á–∫–∏), `App.tsx` –∏ `GameSelector` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ registry; per‚Äëgame `*Page.tsx` —É–¥–∞–ª–µ–Ω—ã; devOnly —Å—Å—ã–ª–∫–∏ —Å–∫—Ä—ã—Ç—ã –≤–Ω–µ `import.meta.env.DEV`.
- 2025‚Äë12‚Äë13 (codex): ‚úÖ –≠—Ç–∞–ø 3: –≤–≤–µ–¥–µ–Ω—ã –ø–∞–Ω–µ–ª–∏ (`QuestionPanel`, `AnswersPanel`, `LifelinesPanel`, `PrizeLadderPanel`, `LifelineResultPanel`), –¥–æ–±–∞–≤–ª–µ–Ω—ã `CampaignSelectionPanel` + `CampaignCard`, `takeMoney` –ø–µ—Ä–µ–µ—Ö–∞–ª –≤ –Ω–∏–∑ `PrizeLadderPanel`, `EndScreen` –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ `ResultPanel(variant)`.
- 2025‚Äë12‚Äë13 (codex): ‚úÖ –≠—Ç–∞–ø 4: `LifelinePhonePanel` –∏ `LifelineAudiencePanel` –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏—è –∏ –æ–±—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ lifeline –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `LifelineResultPanel`; Transformers –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ `GameRegistry`.

---

## 12 –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (—Ä–µ—à–∏—Ç—å –¥–æ —Å—Ç–∞—Ä—Ç–∞ —ç—Ç–∞–ø–æ–≤)

### 12.1 `takeMoney`: —Ä–µ—à–µ–Ω–∏–µ

–†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ: `takeMoney` ‚Äî **–Ω–µ lifeline**, —ç—Ç–æ action‚Äë–∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É `PrizeLadderPanel`.

### 12.2 –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å async‚Äë—Ç–∞–π–º–∏–Ω–≥–∏ (reveal delay, animation sync)

–ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å, –≥–¥–µ –∂–∏–≤—É—Ç –∑–∞–¥–µ—Ä–∂–∫–∏:
- –≤ –¥–æ–º–µ–Ω–µ (`engine/game`) –∫–∞–∫ ‚Äúeffects/commands‚Äù (—á–∏—Å—Ç–æ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ),
- –∏–ª–∏ –≤ UI (–ø—Ä–æ—â–µ, –Ω–æ —Ä–∞—Å–ø–æ–ª–∑–∞–µ—Ç—Å—è).

### 12.3 –§–æ—Ä–º–∞—Ç `glare`: ‚Äú—Ñ—É–Ω–∫—Ü–∏—è‚Äù –∏–ª–∏ ‚ÄúCSS‚Äë–ø—Ä–∏–º–∏—Ç–∏–≤‚Äù

–†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ: –¥–µ–ª–∞–µ–º **CSS‚Äë–ø—Ä–∏–º–∏—Ç–∏–≤** —Å –∫–∞—Å—Ç–æ–º‚Äë–ø—Ä–æ–ø–µ—Ä—Ç—è–º–∏ (–ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ).

### 12.4 –ü–æ–ª–∏—Ç–∏–∫–∞ i18n –∏ `systemStrings`

–†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ: `systemStrings` –ø–æ–∫–∞ –æ—Å—Ç–∞—é—Ç—Å—è —á–∞—Å—Ç—å—é `GameConfig` –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä.

---

## 13 –†–∏—Å–∫–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–Ω–∏–∂–µ–Ω–∏—è

### 13.1 –†–∏—Å–∫: –º–∞—Å—Å–æ–≤—ã–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è `hint*` ‚Üí `lifeline*`

–°—Ç—Ä–∞—Ç–µ–≥–∏—è:
- –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –∞–ª–∏–∞—Å—ã/–¥–µ–ø—Ä–µ–∫–µ–π—Ç—ã –ø–æ —ç—Ç–∞–ø–∞–º;
- –¥–µ—Ä–∂–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π ‚Äú—Å—Ç–∞—Ä–æ–µ ‚Üí –Ω–æ–≤–æ–µ‚Äù (–∫–ª—é—á–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤ + –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∞—Å—Å–µ—Ç–æ–≤).

### 13.2 –†–∏—Å–∫: ‚Äúengine –±–µ–∑ public/‚Äù –ª–æ–º–∞–µ—Ç —Ç–µ–∫—É—â–∏–π dev workflow

–°—Ç—Ä–∞—Ç–µ–≥–∏—è:
- —Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å noop, –µ—Å–ª–∏ –∞—Å—Å–µ—Ç–æ–≤ –Ω–µ—Ç;
- preload‚Äë—Ö—É–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω –∏ –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è.

### 13.3 –†–∏—Å–∫: —Ä–∞—Å–ø—É—Ö–∞–Ω–∏–µ `engine/index.ts` –∏ —Å–ª—É—á–∞–π–Ω–æ–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –ª–∏—à–Ω–µ–≥–æ

–°—Ç—Ä–∞—Ç–µ–≥–∏—è:
- –¥–µ—Ä–∂–∞—Ç—å `engine/index.ts` –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º;
- –∏–∑–±–µ–≥–∞—Ç—å barrel exports –≤ –≥–æ—Ä—è—á–∏—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ —ç—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –±–∞–Ω–¥–ª.
