@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Custom Fonts (local TTF files)
   ============================================ */

/* Neuropol X RG - футуристический шрифт для Transformers */
@font-face {
  font-family: 'Neuropol X Rg';
  src: url('/fonts/neuropol_x_rg.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Aeromatics NC - дополнительный технологичный шрифт */
@font-face {
  font-family: 'Aeromatics NC';
  src: url('/fonts/Aeromatics_NC.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  background: #000;
}

/* ============================================
   Screen Transition Animations
   Beautiful transitions between game screens
   ============================================ */

/* Fade in with scale up from center */
@keyframes screen-enter {
  0% {
    opacity: 0;
    transform: scale(0.9) translateY(20px);
    filter: blur(10px);
  }
  50% {
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

/* Fade out with scale down */
@keyframes screen-exit {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.95) translateY(-20px);
    filter: blur(8px);
  }
}

/* Shimmer overlay during transition */
@keyframes shimmer-overlay {
  0% {
    opacity: 0;
    background-position: -100% 0;
  }
  30% {
    opacity: 0.5;
  }
  70% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
    background-position: 200% 0;
  }
}

/* Golden particles floating up */
@keyframes float-up-particle {
  0% {
    opacity: 0;
    transform: translateY(100px) scale(0);
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(-100vh) scale(1) rotate(360deg);
  }
}

/* Screen wrapper with enter animation */
.screen-transition {
  animation: screen-enter 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  position: relative;
}

/* Slower, more dramatic enter for end screens */
.screen-transition-dramatic {
  animation: screen-enter 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  position: relative;
}

/* Staggered element animations */
@keyframes element-slide-in {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes element-slide-in-left {
  0% {
    opacity: 0;
    transform: translateX(-50px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes element-slide-in-right {
  0% {
    opacity: 0;
    transform: translateX(50px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes element-pop-in {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  70% {
    transform: scale(1.1);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Glowing border animation for panels */
@keyframes glow-pulse {
  0%, 100% {
    box-shadow:
      0 0 20px rgba(255, 200, 0, 0.3),
      inset 0 0 20px rgba(255, 200, 0, 0.1);
  }
  50% {
    box-shadow:
      0 0 40px rgba(255, 200, 0, 0.5),
      0 0 60px rgba(255, 150, 0, 0.3),
      inset 0 0 30px rgba(255, 200, 0, 0.2);
  }
}

/* Stagger delay utilities - use with animate-* classes */
.stagger-1 { animation-delay: 0.1s !important; }
.stagger-2 { animation-delay: 0.2s !important; }
.stagger-3 { animation-delay: 0.3s !important; }
.stagger-4 { animation-delay: 0.4s !important; }
.stagger-5 { animation-delay: 0.5s !important; }
.stagger-6 { animation-delay: 0.6s !important; }

.animate-slide-in {
  animation: element-slide-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.animate-slide-left {
  animation: element-slide-in-left 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.animate-slide-right {
  animation: element-slide-in-right 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.animate-pop-in {
  animation: element-pop-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-prize {
  animation: prize-count-up 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* Special win/lose screen animations */
@keyframes victory-zoom {
  0% {
    opacity: 0;
    transform: scale(1.3);
    filter: brightness(1.5);
  }
  60% {
    transform: scale(1.05);
    filter: brightness(1.2);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1);
  }
}

@keyframes defeat-fade {
  0% {
    opacity: 0;
    transform: scale(0.8);
    filter: grayscale(100%) blur(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: grayscale(0%) blur(0);
  }
}

.screen-victory {
  animation: victory-zoom 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.screen-defeat {
  animation: defeat-fade 0.6s ease-out forwards;
}

/* Prize counter animation */
@keyframes prize-count-up {
  0% {
    opacity: 0;
    transform: scale(0.5) translateY(20px);
  }
  50% {
    transform: scale(1.2) translateY(-5px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* ============================================ */

/* Shine sweep animation for answer buttons */
@keyframes shine-sweep {
  0% {
    left: -100%;
  }
  100% {
    left: 200%;
  }
}

/* Reverse shine sweep (right to left) for press */
@keyframes shine-sweep-reverse {
  0% {
    left: 200%;
  }
  100% {
    left: -100%;
  }
}

.answer-btn {
  position: relative;
  overflow: hidden;
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.answer-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    130deg,
    transparent 0%,
    transparent 25%,
    rgba(255, 255, 255, 0.1) 40%,
    rgba(255, 255, 255, 0.25) 50%,
    rgba(255, 255, 255, 0.1) 60%,
    transparent 75%,
    transparent 100%
  );
  transform: skewX(-30deg);
  filter: blur(2px);
  pointer-events: none;
  z-index: 10;
}

/* Hover - shine left to right (button rising into light) */
@media (hover: hover) and (pointer: fine) {
  .answer-btn:not(:disabled):hover::before {
    animation: shine-sweep 0.5s ease-out forwards;
  }
}

/* Active/Press - shine right to left (button falling through light) */
.answer-btn:not(:disabled):active::before {
  animation: shine-sweep-reverse 0.2s ease-out forwards;
}

/* Hover effect - slight lift */
@media (hover: hover) and (pointer: fine) {
  .answer-btn:not(:disabled):hover {
    transform: scale(1.02) translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
}

/* Button press effect - "pushed in" */
.answer-btn:not(:disabled):active {
  transform: scale(0.97) translateY(2px);
  box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.4);
  transition: transform 0.05s ease-out, box-shadow 0.05s ease-out;
}

/* ============================================
   Action Buttons (Start Game, New Game)

   States:
   1. Rest: button at "ground level" (scale 1, normal brightness)
   2. Hover/Touch: button lifts UP (scale 1.08), shine L→R, brighter
   3. Active/Press: button SLAMS DOWN (scale 0.95), shine R→L, darker, dust puff
   4. Release outside: returns to rest smoothly
   5. Release inside: triggers click → next screen
   ============================================ */

/* Shine sweep left to right (hover) */
@keyframes shine-sweep-action {
  0% { transform: translateX(-100%) skewX(-25deg); }
  100% { transform: translateX(300%) skewX(-25deg); }
}

/* Shine sweep right to left (press/slam) */
@keyframes shine-sweep-action-reverse {
  0% { transform: translateX(300%) skewX(-25deg); }
  100% { transform: translateX(-100%) skewX(-25deg); }
}

/* Dust puff - outward oval glow burst */
@keyframes dust-puff {
  0% {
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.5),
      inset 0 2px 6px rgba(0, 0, 0, 0.3);
  }
  15% {
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.5),
      -20px 4px 20px 2px var(--btn-glow, rgba(255, 200, 0, 0.6)),
      20px 4px 20px 2px var(--btn-glow, rgba(255, 200, 0, 0.6)),
      -38px 2px 15px 1px var(--btn-glow, rgba(255, 200, 0, 0.4)),
      38px 2px 15px 1px var(--btn-glow, rgba(255, 200, 0, 0.4)),
      0 6px 25px 3px var(--btn-glow, rgba(255, 200, 0, 0.5)),
      inset 0 2px 6px rgba(0, 0, 0, 0.3);
  }
  100% {
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.5),
      -55px 8px 35px 4px transparent,
      55px 8px 35px 4px transparent,
      -80px 4px 28px 3px transparent,
      80px 4px 28px 3px transparent,
      0 12px 40px 5px transparent,
      inset 0 2px 6px rgba(0, 0, 0, 0.3);
  }
}

.action-btn {
  position: relative;
  overflow: hidden; /* Keep shine inside button */
  transform: scale(1);
  transform-origin: center center;
  filter: brightness(1);
  transition:
    transform 0.25s cubic-bezier(0.34, 1.2, 0.64, 1),
    filter 0.25s ease-out,
    box-shadow 0.25s ease-out;
  z-index: 10;
}

/* Shine effect layer - centered, clipped by overflow:hidden */
.action-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 40%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 20%,
    rgba(255, 255, 255, 0.35) 50%,
    rgba(255, 255, 255, 0.1) 80%,
    transparent 100%
  );
  transform: translateX(-100%) skewX(-25deg);
  pointer-events: none;
  z-index: 10;
}

/* ---- STATE 2: HOVER (lifted, bright, shine L→R) ---- */
@media (hover: hover) and (pointer: fine) {
  .action-btn:not(:disabled):hover {
    transform: scale(1.08);
    filter: brightness(1.15);
    box-shadow:
      0 8px 25px rgba(0, 0, 0, 0.3),
      0 0 40px var(--btn-glow, rgba(255, 200, 0, 0.3));
  }

  .action-btn:not(:disabled):hover::before {
    animation: shine-sweep-action 0.35s ease-out forwards;
  }
}

/* Touch devices: active state acts as hover+press combined */
@media (hover: none) {
  .action-btn:not(:disabled):active {
    transform: scale(0.94);
    filter: brightness(0.85);
    animation: dust-puff 0.5s ease-out forwards;
  }

  .action-btn:not(:disabled):active::before {
    animation: shine-sweep-action-reverse 0.2s ease-out forwards;
  }
}

/* ---- STATE 3: ACTIVE/PRESS (slammed down, dark, shine R→L, dust puff) ---- */
@media (hover: hover) and (pointer: fine) {
  .action-btn:not(:disabled):active {
    transform: scale(0.94);
    filter: brightness(0.85);
    animation: dust-puff 0.5s ease-out forwards;
    transition:
      transform 0.08s ease-out,
      filter 0.08s ease-out;
  }

  .action-btn:not(:disabled):active::before {
    animation: shine-sweep-action-reverse 0.2s ease-out forwards;
  }
}

/* ============================================
   Lifeline Buttons (50:50, Phone, Audience, etc.)
   Glow on hover, press effect
   ============================================ */
.lifeline-btn {
  position: relative;
  overflow: hidden;
  transform: scale(1) translateY(0);
  transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, filter 0.12s ease-out;
}

/* Shine effect on hover */
.lifeline-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    130deg,
    transparent 0%,
    transparent 25%,
    rgba(255, 255, 255, 0.15) 40%,
    rgba(255, 255, 255, 0.3) 50%,
    rgba(255, 255, 255, 0.15) 60%,
    transparent 75%,
    transparent 100%
  );
  transform: skewX(-30deg);
  filter: blur(1px);
  pointer-events: none;
  z-index: 10;
}

/* Hover state - lift up and glow */
/* Only apply hover effects on devices with true hover capability */
@media (hover: hover) and (pointer: fine) {
  .lifeline-btn:not(:disabled):hover {
    transform: scale(1.05) translateY(-2px);
    box-shadow:
      0 6px 20px rgba(0, 0, 0, 0.3),
      0 0 20px var(--lifeline-glow, rgba(255, 200, 0, 0.4));
    filter: brightness(1.1);
  }

  .lifeline-btn:not(:disabled):hover::before {
    animation: shine-sweep 0.4s ease-out forwards;
  }
}

/* Active/pressed state - push down */
.lifeline-btn:not(:disabled):active {
  transform: scale(0.95) translateY(2px);
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 2px 8px rgba(0, 0, 0, 0.3);
  filter: brightness(0.95);
  transition: transform 0.06s ease-out, box-shadow 0.06s ease-out, filter 0.06s ease-out;
}
