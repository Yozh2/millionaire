@keyframes glare-sweep {
  0% {
    transform: skewX(var(--glare-skew, -25deg))
      translateX(var(--glare-start, -150%));
  }
  100% {
    transform: skewX(var(--glare-skew, -25deg))
      translateX(var(--glare-end, 150%));
  }
}
 

@keyframes glare-sweep-reverse {
  0% {
    transform: skewX(var(--glare-skew, -25deg))
      translateX(var(--glare-end, 150%));
  }
  100% {
    transform: skewX(var(--glare-skew, -25deg))
      translateX(var(--glare-start, -150%));
  }
}

.millionaire-engine .glare {
  position: relative;
  overflow: hidden;
  --glare-width: 60%;
  --glare-duration: 0.8s;
  --glare-press-duration: 0.2s;
  --glare-blur: 5px;
  --glare-skew: -25deg;
  --glare-rest: -150%;
  --glare-start: -150%;
  --glare-end: 150%;
  --glare-opacity: 1;
}

.millionaire-engine .glare::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    115deg,
    transparent 0%,
    transparent calc(var(--glare-width, 60%) * 0.25),
    rgba(255, 255, 255, 0.1) calc(var(--glare-width, 60%) * 0.45),
    rgba(255, 255, 255, 0.28) calc(var(--glare-width, 60%) * 0.55),
    rgba(255, 255, 255, 0.1) calc(var(--glare-width, 60%) * 0.7),
    transparent calc(var(--glare-width, 60%) * 0.85),
    transparent var(--glare-width, 60%)
  );
  transform: skewX(var(--glare-skew, -25deg))
    translateX(var(--glare-rest, var(--glare-start, -150%)));
  filter: blur(var(--glare-blur, 3px));
  opacity: var(--glare-opacity, 1);
  pointer-events: none;
  will-change: transform;
  z-index: 10;
}

@media (hover: hover) and (pointer: fine) {
  .millionaire-engine .glare:not(:disabled):hover::before {
    animation: glare-sweep var(--glare-duration, 0.5s) ease-out forwards;
  }
}

.millionaire-engine .glare:not(:disabled):active::before {
  animation: glare-sweep-reverse var(--glare-press-duration, 0.2s) ease-out
    forwards;
}

/* Button FSM support (v0): use data attribute instead of relying only on :hover/:active */
@media (hover: hover) and (pointer: fine) {
  .millionaire-engine .glare[data-btn-state='Hover']:not(:disabled)::before {
    animation: glare-sweep var(--glare-duration, 0.5s) ease-out forwards;
  }
}

.millionaire-engine .glare[data-btn-state='Press']:not(:disabled)::before {
  animation: glare-sweep-reverse var(--glare-press-duration, 0.2s) ease-out
    forwards;
}
